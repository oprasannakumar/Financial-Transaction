<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Finance Master Hub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
    :root { --p: #6366f1; --bg: #f3f4f6; }
    body, html { margin: 0; padding: 0; height: 100%; font-family: 'Inter', sans-serif; background: var(--bg); overflow: hidden; }
    
    .nav { position: fixed; top: 0; width: 100%; height: 60px; background: #fff; box-shadow: 0 2px 10px rgba(0,0,0,0.1); display: flex; justify-content: center; align-items: center; gap: 10px; z-index: 999; }
    .btn { padding: 8px 16px; border: none; background: #e5e7eb; border-radius: 8px; cursor: pointer; font-weight: 700; font-size: 12px; color: #4b5563; transition: 0.3s; text-transform: uppercase; }
    .btn.active { background: var(--p); color: white; box-shadow: 0 4px 12px rgba(99,102,241,0.3); }

    .container { margin-top: 60px; height: calc(100vh - 60px); width: 100%; }
    iframe { width: 100%; height: 100%; border: none; display: none; }
    iframe.active { display: block; }
  </style>
</head>
<body>
  <div class="nav">
    <button class="btn active" onclick="tab('f1', this)">üõí Monthly</button>
    <button class="btn" onclick="tab('f2', this)">ü§ù Loans</button>
    <button class="btn" onclick="tab('f3', this)">üîÑ Transfer</button>
  </div>
  <div class="container">
    <iframe id="f1" class="active"></iframe>
    <iframe id="f2"></iframe>
    <iframe id="f3"></iframe>
  </div>

  <script>
    function tab(id, b) {
      document.querySelectorAll('iframe').forEach(f => f.classList.remove('active'));
      document.querySelectorAll('.btn').forEach(btn => btn.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      b.classList.add('active');
    }
    
    // Paste your Base64 encoded strings here
    const codes = {
      f1: "PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogIDx0aXRsZT5Nb250aGx5IFRyYW5zYWN0aW9uIHwgU21hcnQgUm93IFN5bmM8L3RpdGxlPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wIj4KICA8c3R5bGU+CiAgICBAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1JbnRlcjp3Z2h0QDQwMDs1MDA7NjAwOzcwMCZkaXNwbGF5PXN3YXAnKTsKICAgIDpyb290IHsgCiAgICAgIC0taDo0MnB4OyAtLXI6MTBweDsgLS1wcmltYXJ5OiAjNjM2NmYxOyAtLXNlY29uZGFyeTogIzEwYjk4MTsgLS1kYW5nZXI6ICNlZjQ0NDQ7IAogICAgICAtLWJnLWJvZHk6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsI2VlZjJmNywjZjlmYWZiKTsKICAgICAgLS1iZy1jYXJkOiAjZmZmZmZmOyAtLXRleHQtbWFpbjogIzFmMjkzNzsgLS10ZXh0LWxhYmVsOiAjMzc0MTUxOyAtLWJvcmRlci1jb2xvcjogI2QxZDVkYjsgLS1iZy1pbnB1dDogI2ZmZmZmZjsKICAgIH0KICAgIGJvZHkuZGFyayB7CiAgICAgIC0tYmctYm9keTogIzAyMDYxNzsgLS1iZy1jYXJkOiAjMGYxNzJhOyAtLXRleHQtbWFpbjogI2Y4ZmFmYzsgLS10ZXh0LWxhYmVsOiAjOTRhM2I4OyAtLWJvcmRlci1jb2xvcjogIzMzNDE1NTsgLS1iZy1pbnB1dDogIzFlMjkzYjsKICAgIH0KICAgIGJvZHkgeyBmb250LWZhbWlseTonSW50ZXInLCBzYW5zLXNlcmlmOyBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1ib2R5KTsgY29sb3I6IHZhcigtLXRleHQtbWFpbik7IHBhZGRpbmc6MTVweDsgbWFyZ2luOjA7IG1pbi1oZWlnaHQ6IDEwMHZoOyB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuM3M7IH0KICAgIAogICAgZm9ybSwgLmNvbmZpcm0tY2FyZCB7IGJhY2tncm91bmQ6IHZhcigtLWJnLWNhcmQpOyBtYXgtd2lkdGg6NDAwcHg7IG1hcmdpbjphdXRvOyBwYWRkaW5nOjIwcHg7IGJvcmRlci1yYWRpdXM6MTZweDsgYm94LXNoYWRvdzowIDEwcHggMzBweCByZ2JhKDAsMCwwLC4xKTsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgcG9zaXRpb246IHJlbGF0aXZlOyB9CiAgICAKICAgIC5jb25maXJtLWNhcmQgeyBtYXgtd2lkdGg6IDU1MHB4OyB3aWR0aDogOTUlOyB9IAoKICAgIC5oZWFkZXItcm93LXRvcCB7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IG1hcmdpbi1ib3R0b206IDE1cHg7IG1hcmdpbi10b3A6IC01cHg7IH0KICAgIGgzIHsgbWFyZ2luOiAwOyBmb250LXdlaWdodDo2MDA7IGZvbnQtc2l6ZTogMThweDsgZmxleC1ncm93OiAxOyB0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmctdG9wOiA1cHg7IH0KCiAgICAjc3RhdHVzRG90IHsgd2lkdGg6IDEwcHg7IGhlaWdodDogMTBweDsgYm9yZGVyLXJhZGl1czogNTAlOyBiYWNrZ3JvdW5kOiAjOTRhM2I4OyBmbGV4LXNocmluazogMDsgbWFyZ2luLXRvcDogMTBweDsgfQogICAgI3N0YXR1c0RvdC5vbmxpbmUgeyBiYWNrZ3JvdW5kOiB2YXIoLS1zZWNvbmRhcnkpOyBib3gtc2hhZG93OiAwIDAgOHB4IHZhcigtLXNlY29uZGFyeSk7IH0KICAgICNzdGF0dXNEb3Qub2ZmbGluZSB7IGJhY2tncm91bmQ6IHZhcigtLWRhbmdlcik7IGJveC1zaGFkb3c6IDAgMCA4cHggdmFyKC0tZGFuZ2VyKTsgfQoKICAgICN0aGVtZVRvZ2dsZSB7IAogICAgICB3aWR0aDogMzJweDsgaGVpZ2h0OiAzMnB4OyBib3JkZXItcmFkaXVzOiA1MCU7IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7IAogICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1pbnB1dCk7IGNvbG9yOiB2YXIoLS10ZXh0LW1haW4pOyBjdXJzb3I6IHBvaW50ZXI7IAogICAgICBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgZm9udC1zaXplOiAxNHB4OyB0cmFuc2l0aW9uOiAwLjJzOyAKICAgICAgbWFyZ2luLXRvcDogMHB4OyAKICAgIH0KCiAgICAjYnRuU2hvd0F1dG9maWxsIHsgCiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTYsIDE4NSwgMTI5LCAwLjEpOyBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5KTsgYm9yZGVyOiAxcHggZGFzaGVkIHZhcigtLXNlY29uZGFyeSk7CiAgICAgIGZvbnQtc2l6ZTogMTFweDsgZm9udC13ZWlnaHQ6IDcwMDsgaGVpZ2h0OiAzMnB4OyBtYXJnaW4tYm90dG9tOiAxMHB4OyBjdXJzb3I6IHBvaW50ZXI7CiAgICB9CgogICAgLmF1dG9maWxsLXNlY3Rpb24geyBiYWNrZ3JvdW5kOiByZ2JhKDE2LCAxODUsIDEyOSwgMC4wNSk7IHBhZGRpbmc6IDEycHg7IGJvcmRlci1yYWRpdXM6IDEycHg7IG1hcmdpbi1ib3R0b206IDE1cHg7IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXNlY29uZGFyeSk7IH0KICAgIC5hdXRvZmlsbC1zZWN0aW9uIHRleHRhcmVhIHsgd2lkdGg6IDEwMCU7IGhlaWdodDogNjBweDsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgYm9yZGVyLXJhZGl1czogOHB4OyBmb250LXNpemU6IDExcHg7IHBhZGRpbmc6IDhweDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgcmVzaXplOiBub25lOyBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1pbnB1dCk7IGNvbG9yOiB2YXIoLS10ZXh0LW1haW4pOyB9CiAgICAuYnRuLWF1dG9maWxsIHsgYmFja2dyb3VuZDogdmFyKC0tc2Vjb25kYXJ5KTsgY29sb3I6IHdoaXRlOyBib3JkZXI6IG5vbmU7IGZvbnQtc2l6ZTogMTFweDsgZm9udC13ZWlnaHQ6IDcwMDsgaGVpZ2h0OiAzMHB4OyBib3JkZXItcmFkaXVzOiA2cHg7IGN1cnNvcjogcG9pbnRlcjsgbWFyZ2luLXRvcDogOHB4OyB3aWR0aDogMTAwJTsgfQoKICAgIC5iYXRjaC1jb250cm9sIHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBiYWNrZ3JvdW5kOiByZ2JhKDk5LDEwMiwyNDEsMC4xKTsgcGFkZGluZzogOHB4IDEycHg7IGJvcmRlci1yYWRpdXM6IDEwcHg7IG1hcmdpbi1ib3R0b206IDEwcHg7IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXByaW1hcnkpOyB9CiAgICAKICAgIC5zd2l0Y2ggeyBwb3NpdGlvbjogcmVsYXRpdmU7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IDQwcHg7IGhlaWdodDogMjJweDsgbWFyZ2luLXRvcDotMXB4OyB9CiAgICAuc3dpdGNoIGlucHV0IHsgb3BhY2l0eTogMDsgd2lkdGg6IDA7IGhlaWdodDogMDsgfQogICAgLnNsaWRlciB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgY3Vyc29yOiBwb2ludGVyOyB0b3A6IDA7IGxlZnQ6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IGJhY2tncm91bmQtY29sb3I6ICNjY2M7IHRyYW5zaXRpb246IC40czsgYm9yZGVyLXJhZGl1czogMjJweDsgfQogICAgCiAgICAuc2xpZGVyOmJlZm9yZSB7IAogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7IGNvbnRlbnQ6ICIiOyAKICAgICAgaGVpZ2h0OiAxNnB4OyB3aWR0aDogMTZweDsgCiAgICAgIGxlZnQ6IDNweDsgYm90dG9tOiAzcHg7IAogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsgdHJhbnNpdGlvbjogLjRzOyBib3JkZXItcmFkaXVzOiA1MCU7IAogICAgfQogICAgaW5wdXQ6Y2hlY2tlZCArIC5zbGlkZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsgfQogICAgaW5wdXQ6Y2hlY2tlZCArIC5zbGlkZXI6YmVmb3JlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDE4cHgpOyB9CgogICAgbGFiZWwgeyBmb250LXNpemU6MTJweDsgZm9udC13ZWlnaHQ6NjAwOyBtYXJnaW4tdG9wOjEycHg7IGRpc3BsYXk6YmxvY2s7IGNvbG9yOiB2YXIoLS10ZXh0LWxhYmVsKTsgfQogICAgaW5wdXQsIHNlbGVjdCwgYnV0dG9uIHsgd2lkdGg6MTAwJTsgaGVpZ2h0OnZhcigtLWgpOyBtYXJnaW4tdG9wOjVweDsgcGFkZGluZzowIDEwcHg7IGJvcmRlci1yYWRpdXM6dmFyKC0tcik7IGJvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgYm94LXNpemluZzpib3JkZXItYm94OyBmb250LXNpemU6MTNweDsgYmFja2dyb3VuZDogdmFyKC0tYmctaW5wdXQpOyBjb2xvcjogdmFyKC0tdGV4dC1tYWluKTsgdHJhbnNpdGlvbjogYWxsIDAuMnM7IH0KICAgIGlucHV0OmZvY3VzLCBzZWxlY3Q6Zm9jdXMgeyBvdXRsaW5lOm5vbmU7IGJvcmRlci1jb2xvcjp2YXIoLS1wcmltYXJ5KTsgYm94LXNoYWRvdzowIDAgMCAzcHggcmdiYSg5OSwxMDIsMjQxLC4xKTsgfQogICAgCiAgICAuZXJyLW1zZyB7IGNvbG9yOiB2YXIoLS1kYW5nZXIpOyBmb250LXNpemU6IDEwcHg7IG1hcmdpbi10b3A6IDRweDsgZGlzcGxheTogbm9uZTsgZm9udC13ZWlnaHQ6IDYwMDsgfQogICAgZm9ybS53YXMtdmFsaWRhdGVkIDppbnZhbGlkIH4gLmVyci1tc2csIAogICAgLmlzLWludmFsaWQgfiAuZXJyLW1zZyB7IGRpc3BsYXk6IGJsb2NrOyB9CiAgICBmb3JtLndhcy12YWxpZGF0ZWQgaW5wdXQ6aW52YWxpZCwgZm9ybS53YXMtdmFsaWRhdGVkIHNlbGVjdDppbnZhbGlkLAogICAgLmlzLWludmFsaWQgeyBib3JkZXItY29sb3I6IHZhcigtLWRhbmdlcikgIWltcG9ydGFudDsgYmFja2dyb3VuZDogcmdiYSgyMzksIDY4LCA2OCwgMC4wMyk7IH0KCiAgICAuc21hcnQtcm93IHsgZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMDAlOyB9CiAgICAuc21hcnQtcm93Lmhhcy1vdGhlciB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDEuMmZyOyBnYXA6IDEwcHg7IH0KCiAgICAuYnRuLWdyb3VwIHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyOyBnYXA6IDEwcHg7IG1hcmdpbi10b3A6IDI1cHg7IH0KICAgIGJ1dHRvblt0eXBlPSJzdWJtaXQiXSwgLmJ0bi1jb25maXJtIHsgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeSk7IGNvbG9yOiAjZmZmOyBib3JkZXI6IG5vbmU7IGZvbnQtd2VpZ2h0OiA3MDA7IGN1cnNvcjogcG9pbnRlcjsgbGV0dGVyLXNwYWNpbmc6IDAuM3B4OyB9CiAgICBidXR0b25bdHlwZT0ic3VibWl0Il06aG92ZXIsIC5idG4tY29uZmlybTpob3ZlciB7IGZpbHRlcjogYnJpZ2h0bmVzcygxLjEpOyB9CiAgICAKICAgICNidG5SZXBlYXQsIC5idG4tY2FuY2VsIHsgYmFja2dyb3VuZDogdmFyKC0tYmctaW5wdXQpOyBjb2xvcjogdmFyKC0tdGV4dC1tYWluKTsgYm9yZGVyOiAxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOyBmb250LXdlaWdodDogNjAwOyBjdXJzb3I6IHBvaW50ZXI7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBnYXA6IDZweDsgfQoKICAgIC5zeW5jLXdyYXBwZXIgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7IGdhcDogMTBweDsgbWFyZ2luLXRvcDogMTVweDsgYm9yZGVyLXRvcDogMXB4IGRhc2hlZCB2YXIoLS1ib3JkZXItY29sb3IpOyBwYWRkaW5nLXRvcDogMTVweDsgfQogICAgCiAgICAjYnRuU3luY0FsbCwgI2J0blN0b3BTeW5jLCAjYnRuVmlld1F1ZXVlIHsgCiAgICAgICAgaGVpZ2h0OiA0MnB4OyAKICAgICAgICBtYXJnaW46IDA7IAogICAgICAgIGZvbnQtc2l6ZTogMTFweDsgCiAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsgCiAgICAgICAgZGlzcGxheTogZmxleDsgCiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgCiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IAogICAgICAgIGdhcDogNHB4OyAKICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgYm9yZGVyOiBub25lOwogICAgfQogICAgCiAgICAjYnRuU3luY0FsbCB7IGJhY2tncm91bmQ6IHZhcigtLXNlY29uZGFyeSk7IGNvbG9yOiB3aGl0ZTsgfQogICAgI2J0blN0b3BTeW5jIHsgYmFja2dyb3VuZDogdmFyKC0tZGFuZ2VyKTsgY29sb3I6IHdoaXRlOyB9CiAgICAjYnRuVmlld1F1ZXVlIHsgYmFja2dyb3VuZDogIzk0YTNiODsgY29sb3I6IHdoaXRlOyB9CiAgICBib2R5LmRhcmsgI2J0blZpZXdRdWV1ZSB7IGJhY2tncm91bmQ6ICM0NzU1Njk7IH0KCiAgICAucGF5bWVudC1yb3ctd3JhcHBlciB7IG1hcmdpbi1ib3R0b206IDEycHg7IGJvcmRlci1ib3R0b206IDFweCBkYXNoZWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgcGFkZGluZy1ib3R0b206IDEycHg7IH0KICAgIC5wYXltZW50LXJvdyB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMC45ZnIgMS4xZnIgNzVweCAzNXB4OyBnYXA6IDZweDsgYWxpZ24taXRlbXM6IGVuZDsgfQogICAgLmJ0bi1kZWwtbW9kZSB7IGJhY2tncm91bmQ6ICNmZWUyZTI7IGNvbG9yOiAjZWY0NDQ0OyBib3JkZXI6IDFweCBzb2xpZCAjZmVjYWNhOyBjdXJzb3I6IHBvaW50ZXI7IGJvcmRlci1yYWRpdXM6IDhweDsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGhlaWdodDp2YXIoLS1oKTsgcGFkZGluZzogMDsgfQoKICAgIC5idG4tYWRkLW1vZGUgeyBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5KTsgY29sb3I6ICNmZmY7IGJvcmRlcjogbm9uZTsgZm9udC1zaXplOiAxMXB4OyBoZWlnaHQ6IDI0cHg7IGN1cnNvcjogcG9pbnRlcjsgYm9yZGVyLXJhZGl1czogNnB4OyB3aWR0aDogYXV0bzsgcGFkZGluZzogMCAxMHB4OyBtYXJnaW46IDA7IH0KICAgIC50b3RhbC13cmFwcGVyIHsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyOyBtYXJnaW4tdG9wOiAxMHB4OyBwYWRkaW5nOiA4cHggMTJweDsgYmFja2dyb3VuZDogdmFyKC0tYmctaW5wdXQpOyBib3JkZXItcmFkaXVzOiA4cHg7IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7IH0KICAgIAogICAgLmNhc2gtd3JhcHBlciB7IGJvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgYm9yZGVyLXJhZGl1czoxMnB4OyBwYWRkaW5nOjEycHg7IG1hcmdpbi10b3A6MTJweDsgYmFja2dyb3VuZDogdmFyKC0tYmctaW5wdXQpOyB9CiAgICAuY2FzaC1ncmlkIHsgZGlzcGxheTpncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KDMsMWZyKTsgZ2FwOjhweDsgfQogICAgLmNhc2gtY2FyZCB7IGJvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgYm9yZGVyLXJhZGl1czo4cHg7IHBhZGRpbmc6NXB4OyB0ZXh0LWFsaWduOmNlbnRlcjsgYmFja2dyb3VuZDogdmFyKC0tYmctY2FyZCk7IH0KICAgIC5jYXNoLWNhcmQgc3BhbiB7IGRpc3BsYXk6YmxvY2s7IGZvbnQtc2l6ZTogMTBweDsgZm9udC13ZWlnaHQ6NjAwOyBjb2xvcjogdmFyKC0tdGV4dC1sYWJlbCk7IH0KICAgIC5jYXNoLWNhcmQgaW5wdXQgeyB3aWR0aDo1MCU7IGhlaWdodDoyOHB4OyB0ZXh0LWFsaWduOmNlbnRlcjsgbWFyZ2luLXRvcDogMnB4OyBmb250LXNpemU6IDExcHg7IH0KCiAgICAubW9kYWwgeyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjgpOyBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNHB4KTsgei1pbmRleDogMTAwMDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHBhZGRpbmc6IDEwcHg7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH0KICAgIC5tb2RhbC1jb250ZW50IHsgYmFja2dyb3VuZDogdmFyKC0tYmctY2FyZCk7IGNvbG9yOiB2YXIoLS10ZXh0LW1haW4pOyB3aWR0aDogOTglOyBtYXgtd2lkdGg6IDg1MHB4OyBtYXgtaGVpZ2h0OiA4NXZoOyBib3JkZXItcmFkaXVzOiAxNHB4OyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBvdmVyZmxvdzogaGlkZGVuOyB9CiAgICAudGFibGUtY29udGFpbmVyIHsgb3ZlcmZsb3cteDogYXV0bzsgcGFkZGluZzogMTBweDsgfQogICAgdGFibGUgeyB3aWR0aDogMTAwJTsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgZm9udC1zaXplOiAxMXB4OyBtaW4td2lkdGg6IDcwMHB4OyB9CiAgICB0aCB7IHRleHQtYWxpZ246IGxlZnQ7IHBhZGRpbmc6IDEwcHg7IGJvcmRlci1ib3R0b206IDJweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOyBjb2xvcjogdmFyKC0tdGV4dC1sYWJlbCk7IH0KICAgIHRkIHsgcGFkZGluZzogMTBweDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IH0KICAgIAogICAgLnRkLWNlbnRlciB7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyBoZWlnaHQ6IDEwMCU7IGJvcmRlci1ib3R0b206IG5vbmUgIWltcG9ydGFudDsgZ2FwOiA4cHg7IH0KICAgIC5idG4tYWN0aW9uIHsgaGVpZ2h0OjI1cHg7IHdpZHRoOjMwcHg7IGJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7IGJvcmRlcjpub25lOyBjdXJzb3I6cG9pbnRlcjsgZm9udC1zaXplOiAxNHB4OyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgfQoKICAgIC5jb25maXJtLWl0ZW0geyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IHBhZGRpbmc6IDhweCAwOyBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgZm9udC1zaXplOiAxM3B4OyB9CiAgICAuY29uZmlybS1sYWJlbCB7IGZvbnQtd2VpZ2h0OiA2MDA7IGNvbG9yOiB2YXIoLS10ZXh0LWxhYmVsKTsgfQogICAgLmNvbmZpcm0tdmFsIHsgY29sb3I6IHZhcigtLXRleHQtbWFpbik7IHRleHQtYWxpZ246IHJpZ2h0OyBtYXgtd2lkdGg6IDYwJTsgfQogICAgLmNvbmZpcm0tc2VjdGlvbi10aXRsZSB7IGZvbnQtc2l6ZTogMTJweDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6IHZhcigtLXByaW1hcnkpOyBtYXJnaW46IDE1cHggMCA1cHggMDsgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHZhcigtLXByaW1hcnkpOyB3aWR0aDogZml0LWNvbnRlbnQ7IHBhZGRpbmctcmlnaHQ6IDEwcHg7IH0KCiAgICAuY29uZmlybS1tYXRyaXgtY2FyZCB7IGJvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgYm9yZGVyLXJhZGl1czo2cHg7IHBhZGRpbmc6NHB4OyB0ZXh0LWFsaWduOmNlbnRlcjsgYmFja2dyb3VuZDogdmFyKC0tYmctaW5wdXQpOyB9CiAgICAuY29uZmlybS1tYXRyaXgtY2FyZCBzcGFuIHsgZGlzcGxheTpibG9jazsgZm9udC1zaXplOiA5cHg7IGZvbnQtd2VpZ2h0OjcwMDsgY29sb3I6IHZhcigtLXRleHQtbGFiZWwpOyB9CiAgICAuY29uZmlybS1tYXRyaXgtY2FyZCBzdHJvbmcgeyBmb250LXNpemU6IDExcHg7IGNvbG9yOiB2YXIoLS10ZXh0LW1haW4pOyB9CgogICAgQGtleWZyYW1lcyBibGluayB7IDAlLCAxMDAlIHsgb3BhY2l0eTogMTsgfSA1MCUgeyBvcGFjaXR5OiAwLjU7IH0gfQogICAgLnNhdmluZy10ZXh0IHsgYW5pbWF0aW9uOiBibGluayAxcyBpbmZpbml0ZTsgfQogICAgLmhpZGRlbiB7IGRpc3BsYXk6bm9uZSAhaW1wb3J0YW50IH0KICA8L3N0eWxlPgo8L2hlYWQ+Cgo8Ym9keT4KPGZvcm0gaWQ9InR4bkZvcm0iIG5vdmFsaWRhdGU+CiAgPGRpdiBjbGFzcz0iaGVhZGVyLXJvdy10b3AiPgogICAgPGRpdiBpZD0ic3RhdHVzRG90IiB0aXRsZT0iTmV0d29yayBTdGF0dXMiPjwvZGl2PgogICAgPGgzPk1vbnRobHkgVHJhbnNhY3Rpb248L2gzPgogICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJ0aGVtZVRvZ2dsZSI+8J+MkzwvYnV0dG9uPgogIDwvZGl2PgoKICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgaWQ9ImJ0blNob3dBdXRvZmlsbCI+4pyoIFVzZSBSZWNlaXB0IEF1dG8tRmlsbDwvYnV0dG9uPgoKICA8ZGl2IGlkPSJhdXRvZmlsbEJsb2NrIiBjbGFzcz0iYXV0b2ZpbGwtc2VjdGlvbiBoaWRkZW4iPgogICAgPHRleHRhcmVhIGlkPSJwYXN0ZUFyZWEiIHBsYWNlaG9sZGVyPSJQYXN0ZSBzYXZlZCBjb25maXJtYXRpb24gdGV4dCBoZXJlLi4uIj48L3RleHRhcmVhPgogICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4tYXV0b2ZpbGwiIGlkPSJidG5BcHBseVBhc3RlIj5BcHBseSBEYXRhICYgQ2xvc2U8L2J1dHRvbj4KICA8L2Rpdj4KCiAgPGRpdiBjbGFzcz0iYmF0Y2gtY29udHJvbCI+CiAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOiAxMnB4OyBmb250LXdlaWdodDogNjAwOyI+QmF0Y2ggTW9kZTwvc3Bhbj4KICAgIDxsYWJlbCBjbGFzcz0ic3dpdGNoIj4KICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0iYmF0Y2hUb2dnbGUiPgogICAgICA8c3BhbiBjbGFzcz0ic2xpZGVyIj48L3NwYW4+CiAgICA8L2xhYmVsPgogIDwvZGl2PgogIAogIDxsYWJlbD5EYXRlPC9sYWJlbD4KICA8aW5wdXQgdHlwZT0iZGF0ZSIgaWQ9ImRhdGUiIHJlcXVpcmVkPgogIDxkaXYgY2xhc3M9ImVyci1tc2ciPlNlbGVjdGlvbiByZXF1aXJlZDwvZGl2PgogIAogIDxsYWJlbD5OYXJyYXRpb248L2xhYmVsPgogIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibmFycmF0aW9uIiByZXF1aXJlZCBwbGFjZWhvbGRlcj0iRGVzY3JpcHRpb24iPgogIDxkaXYgY2xhc3M9ImVyci1tc2ciPkRlc2NyaXB0aW9uIHJlcXVpcmVkPC9kaXY+CgogIDxsYWJlbD5JbnZvaWNlIE5vLiAoT3B0aW9uYWwpPC9sYWJlbD4KICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9Imludm9pY2Vfbm8iIHBsYWNlaG9sZGVyPSJFbnRlciBJbnZvaWNlIE51bWJlciI+CgogIDxkaXYgaWQ9InJlZmVyZW5jZVdyYXBwZXIiIGNsYXNzPSJoaWRkZW4iPgogICAgPGxhYmVsPlJlZmVyZW5jZTwvbGFiZWw+CiAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InJlZmVyZW5jZSIgcGxhY2Vob2xkZXI9IkF1dG8tZmlsbGVkIFJlZmVyZW5jZSI+CiAgPC9kaXY+CiAgCiAgPGxhYmVsPlB1cnBvc2U8L2xhYmVsPgogIDxkaXYgaWQ9InB1cnBvc2VTbWFydFJvdyIgY2xhc3M9InNtYXJ0LXJvdyI+CiAgICAgIDxzZWxlY3QgaWQ9InB1cnBvc2UiIHJlcXVpcmVkIG9uY2hhbmdlPSJ0b2dnbGVTbWFydE90aGVyKHRoaXMsICdwdXJwb3NlX290aGVyJywgJ3B1cnBvc2VTbWFydFJvdycpIj4KICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPlNlbGVjdDwvb3B0aW9uPgogICAgICAgICAgPG9wdGlvbj5CdXNpbmVzczwvb3B0aW9uPgogIDxvcHRpb24+RG9uYXRpb248L29wdGlvbj4KICA8b3B0aW9uPkVudGVydGFpbm1lbnQ8L29wdGlvbj4KICA8b3B0aW9uPkZvb2Q8L29wdGlvbj4KICA8b3B0aW9uPkdyb2Nlcnk8L29wdGlvbj4KICA8b3B0aW9uPkhvc3BpdGFsPC9vcHRpb24+CiAgPG9wdGlvbj5Ib3VzZTwvb3B0aW9uPgogIDxvcHRpb24+SW5jb21lPC9vcHRpb24+CiAgPG9wdGlvbj5JbnN1cmFuY2U8L29wdGlvbj4KICA8b3B0aW9uPkxvYW48L29wdGlvbj4KICA8b3B0aW9uPk1lZGljaW5lczwvb3B0aW9uPgogIDxvcHRpb24+TWlzY2VsbGFuZW91czwvb3B0aW9uPgogIDxvcHRpb24+UHVqYTwvb3B0aW9uPgogIDxvcHRpb24+VGF4PC9vcHRpb24+CiAgPG9wdGlvbj5UcmF2ZWxsaW5nPC9vcHRpb24+CiAgPG9wdGlvbj5VdGlsaXR5IEJpbGxzPC9vcHRpb24+CiAgPG9wdGlvbj5XYXRlcjwvb3B0aW9uPgogIDxvcHRpb24gdmFsdWU9Ik90aGVyIj5PdGhlcjwvb3B0aW9uPgogICAgICA8L3NlbGVjdD4KICAgICAgPGlucHV0IGlkPSJwdXJwb3NlX290aGVyIiBjbGFzcz0iaGlkZGVuIiBwbGFjZWhvbGRlcj0iU3BlY2lmeSBQdXJwb3NlIiByZXF1aXJlZCBkaXNhYmxlZD4KICAgICAgPGRpdiBjbGFzcz0iZXJyLW1zZyI+Q2F0ZWdvcnkgcmVxdWlyZWQ8L2Rpdj4KICA8L2Rpdj4KCiAgPGxhYmVsPlNwZW50IEZvcjwvbGFiZWw+CiAgPGRpdiBpZD0ic3BlbnRTbWFydFJvdyIgY2xhc3M9InNtYXJ0LXJvdyI+CiAgICAgIDxzZWxlY3QgaWQ9InNwZW50X2ZvciIgcmVxdWlyZWQgb25jaGFuZ2U9InRvZ2dsZVNtYXJ0T3RoZXIodGhpcywgJ3NwZW50X2Zvcl9vdGhlcicsICdzcGVudFNtYXJ0Um93JykiPgogICAgICAgIDxvcHRpb24gdmFsdWU9IiI+U2VsZWN0PC9vcHRpb24+CiAgICAgICAgPG9wdGlvbj5TZWxmPC9vcHRpb24+PG9wdGlvbj5Ib3VzZTwvb3B0aW9uPjxvcHRpb24+TW90aGVyPC9vcHRpb24+PG9wdGlvbj5HcmFuZCBGYXRoZXI8L29wdGlvbj48b3B0aW9uPkZhbWlseTwvb3B0aW9uPjxvcHRpb24+UGVkaGFtbWE8L29wdGlvbj48b3B0aW9uPlZhc2F2aTwvb3B0aW9uPjxvcHRpb24gdmFsdWU9Ik90aGVyIj5PdGhlcjwvb3B0aW9uPgogICAgICA8L3NlbGVjdD4KICAgICAgPGlucHV0IGlkPSJzcGVudF9mb3Jfb3RoZXIiIGNsYXNzPSJoaWRkZW4iIHBsYWNlaG9sZGVyPSJTcGVjaWZ5IE5hbWUiIHJlcXVpcmVkIGRpc2FibGVkPgogICAgICA8ZGl2IGNsYXNzPSJlcnItbXNnIj5FbnRpdHkgcmVxdWlyZWQ8L2Rpdj4KICA8L2Rpdj4KCiAgPGxhYmVsPkZsb3c8L2xhYmVsPgogIDxzZWxlY3QgaWQ9ImZsb3ciIHJlcXVpcmVkPgogICAgPG9wdGlvbiB2YWx1ZT0iIj5TZWxlY3Q8L29wdGlvbj4KICAgIDxvcHRpb24gdmFsdWU9IndpdGhkcmF3Ij5XaXRoZHJhdzwvb3B0aW9uPgogICAgPG9wdGlvbiB2YWx1ZT0iZGVwb3NpdCI+RGVwb3NpdDwvb3B0aW9uPgogIDwvc2VsZWN0PgogIDxkaXYgY2xhc3M9ImVyci1tc2ciPkZsb3cgcmVxdWlyZWQ8L2Rpdj4KCiAgPGRpdiBjbGFzcz0iaGVhZGVyLXJvdyIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGZsZXgtZW5kOyBtYXJnaW4tdG9wOiAxNHB4OyI+CiAgICA8bGFiZWwgc3R5bGU9Im1hcmdpbjowIj5QYXltZW50IEJyZWFrZG93bjwvbGFiZWw+CiAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0bi1hZGQtbW9kZSIgaWQ9ImJ0bkFkZE1vZGUiPisgQWRkIE1vZGU8L2J1dHRvbj4KICA8L2Rpdj4KICA8ZGl2IGlkPSJwYXltZW50Q29udGFpbmVyIj48L2Rpdj4KCiAgPGRpdiBjbGFzcz0idG90YWwtd3JhcHBlciI+CiAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOiAxMnB4OyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogdmFyKC0tdGV4dC1sYWJlbCk7Ij5Ub3RhbCBBbW91bnQ6PC9zcGFuPgogICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTogMTRweDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6IHZhcigtLXByaW1hcnkpOyIgaWQ9ImdyYW5kVG90YWwiPuKCuTAuMDA8L3NwYW4+CiAgPC9kaXY+CgogIDxkaXYgaWQ9ImNhc2hCbG9jayIgY2xhc3M9ImhpZGRlbiBjYXNoLXdyYXBwZXIiPgogICAgPGRpdiBzdHlsZT0iZm9udC13ZWlnaHQ6NjAwOyBjb2xvcjojNjM2NmYxOyBtYXJnaW4tYm90dG9tOjhweDsgZm9udC1zaXplOjEycHg7Ij5DYXNoIERlbm9taW5hdGlvbnM8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImNhc2gtZ3JpZCIgaWQ9ImNhc2hHcmlkIj48L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImVyci1tc2ciPlBsZWFzZSBlbnRlciBkZW5vbWluYXRpb25zPC9kaXY+CiAgPC9kaXY+CgogIDxkaXYgY2xhc3M9ImJ0bi1ncm91cCI+CiAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgaWQ9InN1Ym1pdEJ0biI+U2F2ZSBUcmFuc2FjdGlvbjwvYnV0dG9uPgogICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJidG5SZXBlYXQiPuKGuiBSZXBlYXQ8L2J1dHRvbj4KICA8L2Rpdj4KCiAgPGRpdiBpZD0iZm9vdGVyU3luYyIgY2xhc3M9InN5bmMtd3JhcHBlciBoaWRkZW4iPgogICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJidG5TeW5jQWxsIj4KICAgICAgICA8c3BhbiBpZD0ic3luY1RleHQiPuKYge+4jyBTeW5jIEFsbDwvc3Bhbj4KICAgICAgICA8c21hbGwgaWQ9InN5bmNDb3VudCI+KDApPC9zbWFsbD4KICAgIDwvYnV0dG9uPgogICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJidG5TdG9wU3luYyIgY2xhc3M9ImhpZGRlbiI+8J+bkSBTdG9wIFN5bmM8L2J1dHRvbj4KICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iYnRuVmlld1F1ZXVlIj7wn5OLIFZpZXcgUXVldWU8L2J1dHRvbj4KICA8L2Rpdj4KPC9mb3JtPgoKPGRpdiBpZD0iY29uZmlybU1vZGFsIiBjbGFzcz0ibW9kYWwgaGlkZGVuIj4KICA8ZGl2IGNsYXNzPSJjb25maXJtLWNhcmQiPgogICAgPGgzIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAyMHB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgcGFkZGluZy1ib3R0b206IDEwcHg7Ij5Db25maXJtIERldGFpbHM8L2gzPgogICAgPGRpdiBpZD0iY29uZmlybURldGFpbHMiPjwvZGl2PgogICAgPGRpdiBjbGFzcz0iYnRuLWdyb3VwIj4KICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJidG5Db25maXJtRmluYWwiIGNsYXNzPSJidG4tY29uZmlybSI+UHJvY2VlZDwvYnV0dG9uPgogICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgaWQ9ImJ0bkNvbmZpcm1DYW5jZWwiIGNsYXNzPSJidG4tY2FuY2VsIj5FZGl0PC9idXR0b24+CiAgICA8L2Rpdj4KICA8L2Rpdj4KPC9kaXY+Cgo8ZGl2IGlkPSJxdWV1ZU1vZGFsIiBjbGFzcz0ibW9kYWwgaGlkZGVuIj4KICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij4KICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciIgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgcGFkZGluZzogMTVweDsgYmFja2dyb3VuZDogdmFyKC0tYmctaW5wdXQpOyBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsiPgogICAgICA8aDQgc3R5bGU9Im1hcmdpbjowIj5PZmZsaW5lIC8gQmF0Y2ggUXVldWU8L2g0PgogICAgICA8c3BhbiBzdHlsZT0iY3Vyc29yOnBvaW50ZXI7IGZvbnQtc2l6ZTogMjBweDsiIG9uY2xpY2s9ImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWV1ZU1vZGFsJykuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJykiPuKclTwvc3Bhbj4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0idGFibGUtY29udGFpbmVyIj4KICAgICAgPHRhYmxlPgogICAgICAgIDx0aGVhZD4KICAgICAgICAgIDx0cj48dGg+RGF0ZTwvdGg+PHRoPk5hcnJhdGlvbjwvdGg+PHRoPkludm9pY2U8L3RoPjx0aD5QdXJwb3NlPC90aD48dGg+QWNjb3VudDwvdGg+PHRoPkZsb3c8L3RoPjx0aD5BbW91bnQ8L3RoPjx0aCBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7Ij5BY3Rpb248L3RoPjwvdHI+CiAgICAgICAgPC90aGVhZD4KICAgICAgICA8dGJvZHkgaWQ9InF1ZXVlQm9keSI+PC90Ym9keT4KICAgICAgPC90YWJsZT4KICAgIDwvZGl2PgogIDwvZGl2Pgo8L2Rpdj4KCjxzY3JpcHQ+CmNvbnN0IFNDUklQVF9VUkwgPSAiaHR0cHM6Ly9zY3JpcHQuZ29vZ2xlLmNvbS9tYWNyb3Mvcy9BS2Z5Y2J5c3ZwWTdtN0l3NkNPNkdQeXJKRk5SNmhjczNiSzNYVm5FVkl5U1llLXVuYkljMGtCaF9jX1ROYVo1bUlpRFJuUmkvZXhlYyI7CmNvbnN0IGJhbmtBY2NvdW50cyA9IFsiRkkiLCJIREZDIE9sZCIsIkhERkMgTmV3IiwiSUNJQ0kiLCJJbmR1c0luZCIsIktvdGFrIiwiUkJMIiwiU0JJIl07CmNvbnN0IGNyZWRpdENhcmRzID0gWwogICJBeGlzIEZsaXBrYXJ0IiwiQXhpcyBNeVpvbmUiLCJBeGlzIE5lbyIsCiAgIkhERkMgUGhvbmVQZSIsIkhERkMgVGF0YSBOZXUiLCJIREZDIE1pbGxlbm5pYSIsCiAgIkhTQkMiLCJJREZDIEZpcnN0IE1pbGxlbmlhIiwKICAiSUNJQ0kgQW1hem9uIiwiSUNJQ0kgQ29yYWwiLCJJQ0lDSSBFeHByZXNzaW9ucyIsCiAgIkluZHVzaW5kIFBsYXQgQXVyYSBFREdFIiwiSW5kdXNpbmQgTGVnZW5kIiwKICAiWWVzIEZpbmJvb3N0ZXIiLCJLb3RhayBMZWFndWUiLCJLb3RhayBJbWFnZSIsCiAgIlNCSSBCUENMIiwiU3RhbmRhcmQgQ2hhcnRlcmVkIgpdOzsKY29uc3QgcmV3YXJkUGxhdGZvcm1zID0gWyJBbWF6b24iLCAiRmxpcGthcnQiLCAiU3VwZXJtb25leSIsICJQYXl6YXBwIiwgIk1vYmlLd2lrIiwgIlRhdGEgTmV1Il07CmNvbnN0IGRlbm9tcyA9IFs1MDAsMjAwLDEwMCw1MCwyMCwxMCw1LDIsMV07CgpsZXQgZGI7CmxldCBzeW5jQWJvcnRlZCA9IGZhbHNlOwpsZXQgY3VycmVudFBheWxvYWRzID0gW107CmNvbnN0IERCX05BTUUgPSAiVHJhbnNhY3Rpb25NYW5hZ2VyREJfdjQiLCBTVE9SRV9OQU1FID0gInR4bl9xdWV1ZSI7CgooZnVuY3Rpb24gaW5pdERCKCl7CiAgdHJ5IHsKICAgIGNvbnN0IHJlcSA9IGluZGV4ZWREQi5vcGVuKERCX05BTUUsIDEpOwogICAgcmVxLm9udXBncmFkZW5lZWRlZCA9IGUgPT4geyBlLnRhcmdldC5yZXN1bHQuY3JlYXRlT2JqZWN0U3RvcmUoU1RPUkVfTkFNRSwgeyBhdXRvSW5jcmVtZW50OiB0cnVlIH0pOyB9OwogICAgcmVxLm9uc3VjY2VzcyA9IGUgPT4geyBkYiA9IGUudGFyZ2V0LnJlc3VsdDsgdXBkYXRlUGVuZGluZ0NvdW50KCk7IGNoZWNrU3RhdHVzKCk7IH07CiAgfSBjYXRjaChlKSB7IGNvbnNvbGUuZXJyb3IoIkRCIEVycm9yIik7IH0KfSkoKTsKCmZ1bmN0aW9uIGNoZWNrU3RhdHVzKCkgewogIGNvbnN0IG9ubGluZSA9IG5hdmlnYXRvci5vbkxpbmU7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1c0RvdCcpLmNsYXNzTmFtZSA9IG9ubGluZSA/ICdvbmxpbmUnIDogJ29mZmxpbmUnOwp9CndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBjaGVja1N0YXR1cyk7CndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgY2hlY2tTdGF0dXMpOwoKYXN5bmMgZnVuY3Rpb24gdXBkYXRlUGVuZGluZ0NvdW50KCl7CiAgaWYoIWRiKSByZXR1cm47CiAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihTVE9SRV9OQU1FLCAicmVhZG9ubHkiKS5vYmplY3RTdG9yZShTVE9SRV9OQU1FKS5nZXRBbGwoKTsKICB0eC5vbnN1Y2Nlc3MgPSAoZSkgPT4gewogICAgY29uc3QgaXRlbXMgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3luY0NvdW50IikudGV4dENvbnRlbnQgPSBgKCR7aXRlbXMubGVuZ3RofSlgOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvb3RlclN5bmMiKS5jbGFzc0xpc3QudG9nZ2xlKCJoaWRkZW4iLCBpdGVtcy5sZW5ndGggPT09IDApOwogICAgcmVuZGVyUXVldWUoaXRlbXMpOwogIH07Cn0KCmZ1bmN0aW9uIHVwZGF0ZUdyYW5kVG90YWwoKSB7CiAgbGV0IHRvdGFsID0gMDsKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucm93LWFtdCcpLmZvckVhY2goaW5wdXQgPT4geyB0b3RhbCArPSBwYXJzZUZsb2F0KGlucHV0LnZhbHVlKSB8fCAwOyB9KTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JhbmRUb3RhbCcpLnRleHRDb250ZW50ID0gYOKCuSR7TWF0aC5hYnModG90YWwpLnRvRml4ZWQoMil9YDsKfQoKZnVuY3Rpb24gY3JlYXRlUGF5bWVudFJvdyhpbml0aWFsID0gbnVsbCkgewogIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICB3cmFwcGVyLmNsYXNzTmFtZSA9ICdwYXltZW50LXJvdy13cmFwcGVyJzsKICB3cmFwcGVyLmlubmVySFRNTCA9IGAKICAgIDxkaXYgY2xhc3M9InBheW1lbnQtcm93Ij4KICAgICAgPGRpdj48c2VsZWN0IGNsYXNzPSJyb3ctdHlwZSIgcmVxdWlyZWQ+PG9wdGlvbiB2YWx1ZT0iIj5UeXBlPC9vcHRpb24+PG9wdGlvbiB2YWx1ZT0iQ0FTSCI+Q2FzaDwvb3B0aW9uPjxvcHRpb24gdmFsdWU9IkRFQklUIj5EZWJpdDwvb3B0aW9uPjxvcHRpb24gdmFsdWU9IlVQSSI+VVBJPC9vcHRpb24+PG9wdGlvbiB2YWx1ZT0iTkVUIj5OZXQ8L29wdGlvbj48b3B0aW9uIHZhbHVlPSJDUkVESVQiPkNyZWRpdCBDYXJkPC9vcHRpb24+PG9wdGlvbiB2YWx1ZT0iUkVXQVJEUyI+UmV3YXJkczwvb3B0aW9uPjwvc2VsZWN0PjwvZGl2PgogICAgICA8ZGl2PjxzZWxlY3QgY2xhc3M9InJvdy1hY2MiIHJlcXVpcmVkPjxvcHRpb24gdmFsdWU9IiI+QWNjb3VudDwvb3B0aW9uPjwvc2VsZWN0PjwvZGl2PgogICAgICA8ZGl2PjxpbnB1dCB0eXBlPSJudW1iZXIiIGNsYXNzPSJyb3ctYW10IiBwbGFjZWhvbGRlcj0iQW10IiBzdGVwPSIwLjAxIiByZXF1aXJlZCBtaW49IjAuMDEiPjwvZGl2PgogICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0bi1kZWwtbW9kZSI+4pyVPC9idXR0b24+CiAgICA8L2Rpdj4KICAgIDxpbnB1dCBjbGFzcz0icm93LWFjYy1vdGhlciBoaWRkZW4iIHN0eWxlPSJtYXJnaW4tdG9wOjZweDsgaGVpZ2h0OjM2cHg7IHdpZHRoOjEwMCU7IiBwbGFjZWhvbGRlcj0iU3BlY2lmeSBBY2NvdW50IiByZXF1aXJlZCBkaXNhYmxlZD4KICAgIDxkaXYgY2xhc3M9ImVyci1tc2ciPlBheW1lbnQgZGV0YWlscyBpbmNvbXBsZXRlPC9kaXY+CiAgYDsKICBjb25zdCB0U2VsID0gd3JhcHBlci5xdWVyeVNlbGVjdG9yKCcucm93LXR5cGUnKSwgYVNlbCA9IHdyYXBwZXIucXVlcnlTZWxlY3RvcignLnJvdy1hY2MnKSwgYW10SW5wID0gd3JhcHBlci5xdWVyeVNlbGVjdG9yKCcucm93LWFtdCcpLCBvdGhlckFjY0lucCA9IHdyYXBwZXIucXVlcnlTZWxlY3RvcignLnJvdy1hY2Mtb3RoZXInKTsKICBhbXRJbnAub25pbnB1dCA9IHVwZGF0ZUdyYW5kVG90YWw7CiAgCiAgdFNlbC5vbmNoYW5nZSA9ICgpID0+IHsKICAgIGFTZWwuaW5uZXJIVE1MID0gJzxvcHRpb24gdmFsdWU9IiI+U2VsZWN0PC9vcHRpb24+JzsKICAgIGlmKHRTZWwudmFsdWUgPT09ICdDQVNIJykgeyAKICAgICAgYVNlbC5hZGQobmV3IE9wdGlvbigiQ2FzaCIsICJDYXNoIikpOyBhU2VsLnZhbHVlID0gIkNhc2giOyBhU2VsLmRpc2FibGVkID0gdHJ1ZTsgYW10SW5wLnJlYWRPbmx5ID0gdHJ1ZTsgcmVjYWxjQ2FzaCgpOyAKICAgIH0gZWxzZSB7CiAgICAgIGFTZWwuZGlzYWJsZWQgPSBmYWxzZTsgYW10SW5wLnJlYWRPbmx5ID0gZmFsc2U7CiAgICAgIGxldCBsaXN0ID0gKHRTZWwudmFsdWUgPT09ICJDUkVESVQiKSA/IGNyZWRpdENhcmRzIDogKHRTZWwudmFsdWUgPT09ICJSRVdBUkRTIiA/IHJld2FyZFBsYXRmb3JtcyA6IGJhbmtBY2NvdW50cyk7CiAgICAgIGxpc3QuZm9yRWFjaChhID0+IGFTZWwuYWRkKG5ldyBPcHRpb24oYSwgYSkpKTsKICAgICAgYVNlbC5hZGQobmV3IE9wdGlvbigiT3RoZXIiLCAiT3RoZXIiKSk7CiAgICB9CiAgICBhU2VsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnKSk7IHRvZ2dsZUNhc2hCbG9jaygpOwogIH07CiAgYVNlbC5vbmNoYW5nZSA9ICgpID0+IHsKICAgIGNvbnN0IGlzT3RoZXIgPSBhU2VsLnZhbHVlID09PSAnT3RoZXInOwogICAgb3RoZXJBY2NJbnAuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgIWlzT3RoZXIpOyBvdGhlckFjY0lucC5kaXNhYmxlZCA9ICFpc090aGVyOwogICAgb3RoZXJBY2NJbnAucmVxdWlyZWQgPSBpc090aGVyOwogIH07CiAgd3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuYnRuLWRlbC1tb2RlJykub25jbGljayA9ICgpID0+IHsgCiAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGF5bWVudC1yb3ctd3JhcHBlcicpLmxlbmd0aCA+IDEpIHsgd3JhcHBlci5yZW1vdmUoKTsgdG9nZ2xlQ2FzaEJsb2NrKCk7IHVwZGF0ZUdyYW5kVG90YWwoKTsgfSAKICB9OwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXltZW50Q29udGFpbmVyJykuYXBwZW5kQ2hpbGQod3JhcHBlcik7CiAgaWYoaW5pdGlhbCkgeyAKICAgIHRTZWwudmFsdWUgPSBpbml0aWFsLnR5cGU7IHRTZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScpKTsgCiAgICBpZihpbml0aWFsLmFjYykgYVNlbC52YWx1ZSA9IGluaXRpYWwuYWNjOwogICAgaWYoaW5pdGlhbC5hbXQpIGFtdElucC52YWx1ZSA9IGluaXRpYWwuYW10OwogICAgYVNlbC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJykpOwogIH0KfQoKZnVuY3Rpb24gcmVjYWxjQ2FzaCgpIHsKICBsZXQgdG90ID0gMDsgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRlbm9tLWlucHV0JykuZm9yRWFjaChpID0+IHRvdCArPSAoaS52YWx1ZSB8fCAwKSAqIGkuZGF0YXNldC52YWwpOwogIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYXltZW50LXJvdy13cmFwcGVyJykuZm9yRWFjaCh3ID0+IHsgaWYody5xdWVyeVNlbGVjdG9yKCcucm93LXR5cGUnKS52YWx1ZSA9PT0gJ0NBU0gnKSB3LnF1ZXJ5U2VsZWN0b3IoJy5yb3ctYW10JykudmFsdWUgPSB0b3QgfHwgIiI7IH0pOwogIGlmKHRvdCA+IDApIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXNoQmxvY2snKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1pbnZhbGlkJyk7CiAgdXBkYXRlR3JhbmRUb3RhbCgpOwp9CgpmdW5jdGlvbiB0b2dnbGVDYXNoQmxvY2soKSB7CiAgY29uc3QgaGFzQ2FzaCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJvdy10eXBlJykpLnNvbWUocyA9PiBzLnZhbHVlID09PSAnQ0FTSCcpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXNoQmxvY2snKS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCAhaGFzQ2FzaCk7Cn0KCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5TaG93QXV0b2ZpbGwnKS5vbmNsaWNrID0gKCkgPT4gewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRvZmlsbEJsb2NrJykuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7Cn07Cgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuQXBwbHlQYXN0ZScpLm9uY2xpY2sgPSAoKSA9PiB7CiAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXN0ZUFyZWEnKS52YWx1ZTsKICBpZiAoIXRleHQudHJpbSgpKSByZXR1cm47CgogIGNvbnN0IGdldFZhbCA9IChrZXkpID0+IHsKICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgJHtrZXl9OlxccyooLiopYCwgJ2knKTsKICAgIGNvbnN0IG1hdGNoID0gdGV4dC5tYXRjaChyZWdleCk7CiAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS50cmltKCkgOiAiIjsKICB9OwoKICBjb25zdCByYXdEYXRlID0gZ2V0VmFsKCfwn5OFIERhdGUnKTsgCiAgY29uc3QgbmFtZSA9IGdldFZhbCgn8J+RpCBOYW1lJyk7CiAgY29uc3QgbXNnID0gZ2V0VmFsKCfwn5OdIE1zZycpOwogIGNvbnN0IGFtb3VudFN0ciA9IGdldFZhbCgn8J+SsCBBbW91bnQnKTsKICBjb25zdCByZWYgPSBnZXRWYWwoJ/CflJcgUmVmJyk7CgogIGlmIChyYXdEYXRlKSB7CiAgICBjb25zdCBwYXJ0cyA9IHJhd0RhdGUuc3BsaXQoJy0nKTsKICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IGAke3BhcnRzWzJdfS0ke3BhcnRzWzFdLnBhZFN0YXJ0KDIsICcwJyl9LSR7cGFydHNbMF0ucGFkU3RhcnQoMiwgJzAnKX1gOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZScpLnZhbHVlID0gZm9ybWF0dGVkRGF0ZTsKICAgIH0KICB9CgogIGlmIChuYW1lKSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFycmF0aW9uJykudmFsdWUgPSBgUGFpZCB0byAke25hbWV9YC50cmltKCk7CiAgfQoKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmxvdycpLnZhbHVlID0gIndpdGhkcmF3IjsKCiAgaWYgKG1zZykgewogICAgY29uc3QgcHVycFNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdXJwb3NlJyk7CiAgICBjb25zdCBwdXJwT3RoZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVycG9zZV9vdGhlcicpOwogICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHB1cnBTZWwub3B0aW9ucy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChwdXJwU2VsLm9wdGlvbnNbaV0udGV4dC50b0xvd2VyQ2FzZSgpID09PSBtc2cudG9Mb3dlckNhc2UoKSkgewogICAgICAgICAgICBwdXJwU2VsLnZhbHVlID0gcHVycFNlbC5vcHRpb25zW2ldLnZhbHVlOwogICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH0KICAgIGlmICghZm91bmQpIHsKICAgICAgICBwdXJwU2VsLnZhbHVlID0gIk90aGVyIjsKICAgICAgICBwdXJwT3RoZXIudmFsdWUgPSBtc2c7CiAgICB9CiAgICB0b2dnbGVTbWFydE90aGVyKHB1cnBTZWwsICdwdXJwb3NlX290aGVyJywgJ3B1cnBvc2VTbWFydFJvdycpOwogIH0KCiAgaWYgKGFtb3VudFN0cikgewogICAgY29uc3QgbnVtZXJpY0FtdCA9IGFtb3VudFN0ci5yZXBsYWNlKC9bXlxkLl0vZywgJycpOwogICAgY29uc3Qgcm93cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yb3ctYW10Jyk7CiAgICBpZiAocm93cy5sZW5ndGggPiAwKSB7CiAgICAgIHJvd3NbMF0udmFsdWUgPSBudW1lcmljQW10OwogICAgICB1cGRhdGVHcmFuZFRvdGFsKCk7CiAgICB9CiAgfQoKICBpZiAocmVmKSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVmZXJlbmNlV3JhcHBlcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZmVyZW5jZScpLnZhbHVlID0gcmVmOwogIH0KCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3RlQXJlYScpLnZhbHVlID0gIiI7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dG9maWxsQmxvY2snKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKfTsKCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0eG5Gb3JtJykub25zdWJtaXQgPSBmdW5jdGlvbihlKSB7CiAgZS5wcmV2ZW50RGVmYXVsdCgpOwogIGNvbnN0IGZvcm0gPSBlLnRhcmdldDsKICBjb25zdCBpc09ubGluZSA9IG5hdmlnYXRvci5vbkxpbmU7CiAgY29uc3QgaXNCYXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXRjaFRvZ2dsZScpLmNoZWNrZWQ7CgogIGNvbnN0IGhhc0Nhc2hNb2RlID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucm93LXR5cGUnKSkuc29tZShzID0+IHMudmFsdWUgPT09ICdDQVNIJyk7CiAgY29uc3QgY2FzaFRvdGFsID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGVub20taW5wdXQnKSkucmVkdWNlKChzdW0sIGkpID0+IHN1bSArIChpLnZhbHVlICogaS5kYXRhc2V0LnZhbCksIDApOwogIAogIGlmKGhhc0Nhc2hNb2RlICYmIGNhc2hUb3RhbCA8PSAwKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FzaEJsb2NrJykuY2xhc3NMaXN0LmFkZCgnaXMtaW52YWxpZCcpOwogIGVsc2UgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nhc2hCbG9jaycpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWludmFsaWQnKTsKCiAgZm9ybS5jbGFzc0xpc3QuYWRkKCd3YXMtdmFsaWRhdGVkJyk7CiAgaWYgKCFmb3JtLmNoZWNrVmFsaWRpdHkoKSkgcmV0dXJuOwogIGlmKGhhc0Nhc2hNb2RlICYmIGNhc2hUb3RhbCA8PSAwKSByZXR1cm47CiAgCiAgY29uc3QgZ1RvdGFsU3RyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyYW5kVG90YWwnKS50ZXh0Q29udGVudDsKICBpZihwYXJzZUZsb2F0KGdUb3RhbFN0ci5yZXBsYWNlKCfigrknLCAnJykpIDw9IDApIHsKICAgIGFsZXJ0KCJUcmFuc2FjdGlvbiBhbW91bnQgbXVzdCBiZSBncmVhdGVyIHRoYW4gemVyby4iKTsKICAgIHJldHVybjsKICB9CgogIGNvbnN0IHBGaW5hbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdXJwb3NlJykudmFsdWUgPT09ICdPdGhlcicgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVycG9zZV9vdGhlcicpLnZhbHVlIDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3B1cnBvc2UnKS52YWx1ZTsKICBjb25zdCBzRmluYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BlbnRfZm9yJykudmFsdWUgPT09ICdPdGhlcicgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BlbnRfZm9yX290aGVyJykudmFsdWUgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BlbnRfZm9yJykudmFsdWU7CiAgY29uc3QgaW52b2ljZVZhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnZvaWNlX25vJykudmFsdWUgfHwgIk4vQSI7CiAgY29uc3QgcmVmVmFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZmVyZW5jZScpLnZhbHVlIHx8ICIiOwogIAogIGNvbnN0IGRldGFpbHNIdG1sID0gYAogICAgPGRpdiBjbGFzcz0iY29uZmlybS1pdGVtIj48c3BhbiBjbGFzcz0iY29uZmlybS1sYWJlbCI+RGF0ZTwvc3Bhbj48c3BhbiBjbGFzcz0iY29uZmlybS12YWwiPiR7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGUnKS52YWx1ZX08L3NwYW4+PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJjb25maXJtLWl0ZW0iPjxzcGFuIGNsYXNzPSJjb25maXJtLWxhYmVsIj5OYXJyYXRpb248L3NwYW4+PHNwYW4gY2xhc3M9ImNvbmZpcm0tdmFsIj4ke2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYXJyYXRpb24nKS52YWx1ZX08L3NwYW4+PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJjb25maXJtLWl0ZW0iPjxzcGFuIGNsYXNzPSJjb25maXJtLWxhYmVsIj5JbnZvaWNlIE5vLjwvc3Bhbj48c3BhbiBjbGFzcz0iY29uZmlybS12YWwiPiR7aW52b2ljZVZhbH08L3NwYW4+PC9kaXY+CiAgICAke3JlZlZhbCA/IGA8ZGl2IGNsYXNzPSJjb25maXJtLWl0ZW0iPjxzcGFuIGNsYXNzPSJjb25maXJtLWxhYmVsIj5SZWY8L3NwYW4+PHNwYW4gY2xhc3M9ImNvbmZpcm0tdmFsIj4ke3JlZlZhbH08L3NwYW4+PC9kaXY+YCA6ICcnfQogICAgPGRpdiBjbGFzcz0iY29uZmlybS1pdGVtIj48c3BhbiBjbGFzcz0iY29uZmlybS1sYWJlbCI+UHVycG9zZTwvc3Bhbj48c3BhbiBjbGFzcz0iY29uZmlybS12YWwiPiR7cEZpbmFsfTwvc3Bhbj48L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImNvbmZpcm0taXRlbSI+PHNwYW4gY2xhc3M9ImNvbmZpcm0tbGFiZWwiPlNwZW50IEZvcjwvc3Bhbj48c3BhbiBjbGFzcz0iY29uZmlybS12YWwiPiR7c0ZpbmFsfTwvc3Bhbj48L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImNvbmZpcm0taXRlbSI+PHNwYW4gY2xhc3M9ImNvbmZpcm0tbGFiZWwiPkZsb3c8L3NwYW4+PHNwYW4gY2xhc3M9ImNvbmZpcm0tdmFsIj4ke2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbG93JykudmFsdWV9PC9zcGFuPjwvZGl2PgogICAgPGRpdiBjbGFzcz0iY29uZmlybS1pdGVtIiBzdHlsZT0iYm9yZGVyOm5vbmUiPjxzcGFuIGNsYXNzPSJjb25maXJtLWxhYmVsIiBzdHlsZT0iY29sb3I6dmFyKC0tcHJpbWFyeSkiPlRvdGFsIEFtb3VudDwvc3Bhbj48c3BhbiBjbGFzcz0iY29uZmlybS12YWwiIHN0eWxlPSJjb2xvcjp2YXIoLS1wcmltYXJ5KTsgZm9udC13ZWlnaHQ6Ym9sZCI+JHtnVG90YWxTdHJ9PC9zcGFuPjwvZGl2PgogICAgPGJyPgogICAgPGRpdiBjbGFzcz0iY29uZmlybS1zZWN0aW9uLXRpdGxlIj5QYXltZW50czwvZGl2PgogICAgJHtBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYXltZW50LXJvdy13cmFwcGVyJykpLm1hcChyb3cgPT4gewogICAgICBjb25zdCB0eXBlID0gcm93LnF1ZXJ5U2VsZWN0b3IoJy5yb3ctdHlwZScpLnZhbHVlOwogICAgICBjb25zdCBhY2MgPSByb3cucXVlcnlTZWxlY3RvcignLnJvdy1hY2MnKS52YWx1ZSA9PT0gJ090aGVyJyA/IHJvdy5xdWVyeVNlbGVjdG9yKCcucm93LWFjYy1vdGhlcicpLnZhbHVlIDogcm93LnF1ZXJ5U2VsZWN0b3IoJy5yb3ctYWNjJykudmFsdWU7CiAgICAgIGNvbnN0IGFtdCA9IHJvdy5xdWVyeVNlbGVjdG9yKCcucm93LWFtdCcpLnZhbHVlOwogICAgICByZXR1cm4gYDxkaXYgY2xhc3M9ImNvbmZpcm0taXRlbSI+PHNwYW4gY2xhc3M9ImNvbmZpcm0tbGFiZWwiPiR7dHlwZX0gKCR7YWNjfSk8L3NwYW4+PHNwYW4gY2xhc3M9ImNvbmZpcm0tdmFsIj7igrkke2FtdH08L3NwYW4+PC9kaXY+YDsKICAgIH0pLmpvaW4oJycpfQogIGA7CgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtRGV0YWlscycpLmlubmVySFRNTCA9IGRldGFpbHNIdG1sOwoKICBjdXJyZW50UGF5bG9hZHMgPSBbXTsKICBjb25zdCByZXBlYXREYXRhID0gW107CiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBheW1lbnQtcm93LXdyYXBwZXInKS5mb3JFYWNoKHJvdyA9PiB7CiAgICBjb25zdCBhY2NTZWwgPSByb3cucXVlcnlTZWxlY3RvcignLnJvdy1hY2MnKTsKICAgIGNvbnN0IGFGaW5hbCA9IGFjY1NlbC52YWx1ZSA9PT0gJ090aGVyJyA/IHJvdy5xdWVyeVNlbGVjdG9yKCcucm93LWFjYy1vdGhlcicpLnZhbHVlIDogYWNjU2VsLnZhbHVlOwogICAgY29uc3QgcCA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoewogICAgICBkYXRlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZScpLnZhbHVlLCAKICAgICAgbmFycmF0aW9uOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFycmF0aW9uJykudmFsdWUsCiAgICAgIGludm9pY2Vfbm86IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnZvaWNlX25vJykudmFsdWUsCiAgICAgIHJlZmVyZW5jZTogcmVmVmFsLAogICAgICBwdXJwb3NlOiBwRmluYWwsIHNwZW50X2Zvcjogc0ZpbmFsLCBmbG93OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmxvdycpLnZhbHVlLAogICAgICB0cnR5cGU6IHJvdy5xdWVyeVNlbGVjdG9yKCcucm93LXR5cGUnKS52YWx1ZSwgZnJvbV90bzogYUZpbmFsLAogICAgICB3aXRoZHJhd246IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbG93JykudmFsdWUgPT09ICd3aXRoZHJhdycgPyByb3cucXVlcnlTZWxlY3RvcignLnJvdy1hbXQnKS52YWx1ZSA6IDAsCiAgICAgIGRlcG9zaXQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbG93JykudmFsdWUgPT09ICdkZXBvc2l0JyA/IHJvdy5xdWVyeVNlbGVjdG9yKCcucm93LWFtdCcpLnZhbHVlIDogMCwKICAgICAgY2F0ZWdvcnk6ICJtb250aGx5IHRyYW5zYWN0aW9ucyIKICAgIH0pOwogICAgaWYocm93LnF1ZXJ5U2VsZWN0b3IoJy5yb3ctdHlwZScpLnZhbHVlID09PSAiQ0FTSCIpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuZGVub20taW5wdXQiKS5mb3JFYWNoKGkgPT4gcC5hcHBlbmQoImQiK2kuZGF0YXNldC52YWwsIGkudmFsdWUgfHwgMCkpOwogICAgfQogICAgY3VycmVudFBheWxvYWRzLnB1c2gocC50b1N0cmluZygpKTsKICAgIHJlcGVhdERhdGEucHVzaChwLnRvU3RyaW5nKCkpOwogIH0pOwogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJsYXN0UGFja2FnZSIsIEpTT04uc3RyaW5naWZ5KHJlcGVhdERhdGEpKTsKCiAgaWYgKCFpc09ubGluZSB8fCBpc0JhdGNoKSB7CiAgICBzYXZlVG9EQigpOwogIH0gZWxzZSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybU1vZGFsJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgfQp9OwoKYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1NhdmUoKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm1Nb2RhbCcpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXRCdG4nKTsgCiAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gYnRuLnRleHRDb250ZW50OwogIGJ0bi5kaXNhYmxlZCA9IHRydWU7IGJ0bi5pbm5lckhUTUwgPSBgPHNwYW4gY2xhc3M9InNhdmluZy10ZXh0Ij5TYXZpbmcuLi48L3NwYW4+YDsKCiAgdHJ5IHsKICAgIGZvcihsZXQgYm9keSBvZiBjdXJyZW50UGF5bG9hZHMpIHsgYXdhaXQgZmV0Y2goU0NSSVBUX1VSTCwgeyBtZXRob2Q6ICJQT1NUIiwgaGVhZGVyczogeyAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIgfSwgYm9keSB9KTsgfQogICAgYWxlcnQoIlNhdmVkIFN1Y2Nlc3NmdWxseSEiKTsgZnVsbFJlc2V0KCk7CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBzYXZlVG9EQigpOwogICAgYWxlcnQoIk5ldHdvcmsgRXJyb3I6IFNhdmluZyB0byBsb2NhbCBzdG9yYWdlLiIpOwogIH0gZmluYWxseSB7IGJ0bi5kaXNhYmxlZCA9IGZhbHNlOyBidG4udGV4dENvbnRlbnQgPSBvcmlnaW5hbFRleHQ7IH0KfQoKZnVuY3Rpb24gc2F2ZVRvREIoKSB7CiAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKFNUT1JFX05BTUUsICJyZWFkd3JpdGUiKTsKICAgIGN1cnJlbnRQYXlsb2Fkcy5mb3JFYWNoKGJvZHkgPT4gdHgub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSkuYWRkKGJvZHkpKTsKICAgIHR4Lm9uY29tcGxldGUgPSAoKSA9PiB7IHVwZGF0ZVBlbmRpbmdDb3VudCgpOyBmdWxsUmVzZXQoKTsgfTsKfQoKZnVuY3Rpb24gZnVsbFJlc2V0KCkgewogIGNvbnN0IGJhdGNoU3RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmF0Y2hUb2dnbGUnKS5jaGVja2VkOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0eG5Gb3JtJykucmVzZXQoKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmF0Y2hUb2dnbGUnKS5jaGVja2VkID0gYmF0Y2hTdGF0ZTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHhuRm9ybScpLmNsYXNzTGlzdC5yZW1vdmUoJ3dhcy12YWxpZGF0ZWQnKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVycG9zZV9vdGhlcicpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGVudF9mb3Jfb3RoZXInKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVycG9zZVNtYXJ0Um93JykuY2xhc3NMaXN0LnJlbW92ZSgnaGFzLW90aGVyJyk7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwZW50U21hcnRSb3cnKS5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtb3RoZXInKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FzaEJsb2NrJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaW52YWxpZCcpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWZlcmVuY2VXcmFwcGVyJykuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BheW1lbnRDb250YWluZXInKS5pbm5lckhUTUwgPSAiIjsgCiAgY3JlYXRlUGF5bWVudFJvdygpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJykudmFsdWUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoIlQiKVswXTsKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGVub20taW5wdXQnKS5mb3JFYWNoKGkgPT4gaS52YWx1ZSA9ICIiKTsKICB0b2dnbGVDYXNoQmxvY2soKTsgdXBkYXRlR3JhbmRUb3RhbCgpOwp9Cgphc3luYyBmdW5jdGlvbiBzeW5jQWxsRGF0YSgpewogIGlmICghbmF2aWdhdG9yLm9uTGluZSkgeyBhbGVydCgiSW50ZXJuZXQgbmVlZGVkIHRvIHN5bmMuIik7IHJldHVybjsgfQogIGlmKCFjb25maXJtKCJTdGFydGluZyBzeW5jIHByb2Nlc3MuIFByb2NlZWQ/IikpIHJldHVybjsKCiAgY29uc3QgYnRuU3luYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5TeW5jQWxsJyk7CiAgY29uc3QgYnRuU3RvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5TdG9wU3luYycpOwogIGNvbnN0IHN5bmNMYWJlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeW5jVGV4dCcpOwogIGNvbnN0IHN5bmNDb3VudERpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3luY0NvdW50Jyk7CiAgCiAgc3luY0Fib3J0ZWQgPSBmYWxzZTsKICBidG5TeW5jLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogIGJ0blN0b3AuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CgogIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oU1RPUkVfTkFNRSwgInJlYWRvbmx5Iik7CiAgY29uc3Qgc3RvcmUgPSB0eC5vYmplY3RTdG9yZShTVE9SRV9OQU1FKTsKICBjb25zdCBpdGVtcyA9IGF3YWl0IG5ldyBQcm9taXNlKHIgPT4geyBzdG9yZS5nZXRBbGwoKS5vbnN1Y2Nlc3MgPSAoZSkgPT4gcihlLnRhcmdldC5yZXN1bHQpOyB9KTsKICBjb25zdCBrZXlzID0gYXdhaXQgbmV3IFByb21pc2UociA9PiB7IHN0b3JlLmdldEFsbEtleXMoKS5vbnN1Y2Nlc3MgPSAoZSkgPT4gcihlLnRhcmdldC5yZXN1bHQpOyB9KTsKCiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykgewogICAgaWYoc3luY0Fib3J0ZWQpIGJyZWFrOwogICAgCiAgICAvLyBVcGRhdGVkIGRpc3BsYXkgbG9naWMgdG8gc2hvdyBjdXJyZW50IHByb2dyZXNzIG9uIHRoZSBzdG9wIGJ1dHRvbiB0b28KICAgIGNvbnN0IHByb2dyZXNzVGV4dCA9IGDwn5uRIFN0b3AgU3luY2luZyAoJHtpKzF9LyR7aXRlbXMubGVuZ3RofSlgOwogICAgYnRuU3RvcC50ZXh0Q29udGVudCA9IHByb2dyZXNzVGV4dDsKICAgIAogICAgdHJ5IHsKICAgICAgYXdhaXQgZmV0Y2goU0NSSVBUX1VSTCwgeyBtZXRob2Q6ICJQT1NUIiwgaGVhZGVyczogeyAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIgfSwgYm9keTogaXRlbXNbaV0gfSk7CiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiB7CiAgICAgICAgICBkYi50cmFuc2FjdGlvbihTVE9SRV9OQU1FLCAicmVhZHdyaXRlIikub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSkuZGVsZXRlKGtleXNbaV0pLm9uc3VjY2VzcyA9ICgpID0+IHsgdXBkYXRlUGVuZGluZ0NvdW50KCk7IHJlcygpOyB9OwogICAgICB9KTsKICAgIH0gY2F0Y2ggKGVycikgeyBhbGVydCgiU3luYyBpbnRlcnJ1cHRlZC4iKTsgYnJlYWs7IH0KICB9CiAgCiAgYnRuU3RvcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICBidG5TdG9wLnRleHRDb250ZW50ID0gIvCfm5EgU3RvcCBTeW5jIjsKICBidG5TeW5jLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogIGlmKHN5bmNBYm9ydGVkKSBhbGVydCgiU3luYyBzdG9wcGVkLiIpOwp9CgpmdW5jdGlvbiByZW5kZXJRdWV1ZShpdGVtcykgewogIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVldWVCb2R5Jyk7IGJvZHkuaW5uZXJIVE1MID0gIiI7CiAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaWR4KSA9PiB7CiAgICBjb25zdCBwID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhpdGVtKTsKICAgIGNvbnN0IGFtdCA9IHBhcnNlRmxvYXQocC5nZXQoJ3dpdGhkcmF3bicpKSA+IDAgPyBwLmdldCgnd2l0aGRyYXduJykgOiBwLmdldCgnZGVwb3NpdCcpOwogICAgY29uc3QgaW52b2ljZSA9IHAuZ2V0KCdpbnZvaWNlX25vJykgfHwgIi0iOwogICAgYm9keS5pbm5lckhUTUwgKz0gYDx0cj48dGQ+JHtwLmdldCgnZGF0ZScpfTwvdGQ+PHRkPiR7cC5nZXQoJ25hcnJhdGlvbicpfTwvdGQ+PHRkPiR7aW52b2ljZX08L3RkPjx0ZD4ke3AuZ2V0KCdwdXJwb3NlJyl9PC90ZD48dGQ+JHtwLmdldCgnZnJvbV90bycpfTwvdGQ+PHRkPiR7cC5nZXQoJ2Zsb3cnKX08L3RkPjx0ZD7igrkke2FtdH08L3RkPjx0ZD48ZGl2IGNsYXNzPSJ0ZC1jZW50ZXIiPjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuLWFjdGlvbiIgb25jbGljaz0iZWRpdFF1ZXVlKCR7aWR4fSkiPuKcj++4jzwvYnV0dG9uPjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuLWFjdGlvbiIgb25jbGljaz0iZGVsZXRlUXVldWUoJHtpZHh9KSI+8J+Xke+4jzwvYnV0dG9uPjwvZGl2PjwvdGQ+PC90cj5gOwogIH0pOwp9Cgp3aW5kb3cuZGVsZXRlUXVldWUgPSAoaWR4KSA9PiB7CiAgaWYoIWNvbmZpcm0oIkRlbGV0ZSB0aGlzIHF1ZXVlZCBpdGVtPyIpKSByZXR1cm47CiAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihTVE9SRV9OQU1FLCAicmVhZHdyaXRlIik7CiAgY29uc3Qgc3RvcmUgPSB0eC5vYmplY3RTdG9yZShTVE9SRV9OQU1FKTsKICBzdG9yZS5nZXRBbGxLZXlzKCkub25zdWNjZXNzID0gKGUpID0+IHsgc3RvcmUuZGVsZXRlKGUudGFyZ2V0LnJlc3VsdFtpZHhdKS5vbnN1Y2Nlc3MgPSAoKSA9PiB1cGRhdGVQZW5kaW5nQ291bnQoKTsgfTsKfTsKCndpbmRvdy5lZGl0UXVldWUgPSAoaWR4KSA9PiB7CiAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihTVE9SRV9OQU1FLCAicmVhZHdyaXRlIik7CiAgY29uc3Qgc3RvcmUgPSB0eC5vYmplY3RTdG9yZShTVE9SRV9OQU1FKTsKICBzdG9yZS5nZXRBbGwoKS5vbnN1Y2Nlc3MgPSAoZSkgPT4gewogICAgY29uc3QgaXRlbSA9IGUudGFyZ2V0LnJlc3VsdFtpZHhdOwogICAgY29uc3QgcCA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoaXRlbSk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGF5bWVudENvbnRhaW5lcicpLmlubmVySFRNTCA9ICIiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGUnKS52YWx1ZSA9IHAuZ2V0KCdkYXRlJyk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFycmF0aW9uJykudmFsdWUgPSBwLmdldCgnbmFycmF0aW9uJyk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW52b2ljZV9ubycpLnZhbHVlID0gcC5nZXQoJ2ludm9pY2Vfbm8nKSB8fCAiIjsKICAgIGlmKHAuZ2V0KCdyZWZlcmVuY2UnKSkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWZlcmVuY2VXcmFwcGVyJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZmVyZW5jZScpLnZhbHVlID0gcC5nZXQoJ3JlZmVyZW5jZScpOwogICAgfQogICAgY29uc3QgcHVycFZhbCA9IHAuZ2V0KCdwdXJwb3NlJyk7IGNvbnN0IHB1cnBTZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVycG9zZScpOwogICAgaWYoQXJyYXkuZnJvbShwdXJwU2VsLm9wdGlvbnMpLnNvbWUobyA9PiBvLnZhbHVlID09PSBwdXJwVmFsKSkgcHVycFNlbC52YWx1ZSA9IHB1cnBWYWw7CiAgICBlbHNlIHsgcHVycFNlbC52YWx1ZSA9ICJPdGhlciI7IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdXJwb3NlX290aGVyJykudmFsdWUgPSBwdXJwVmFsOyB9CiAgICB0b2dnbGVTbWFydE90aGVyKHB1cnBTZWwsICdwdXJwb3NlX290aGVyJywgJ3B1cnBvc2VTbWFydFJvdycpOwogICAgY29uc3Qgc3BlbnRWYWwgPSBwLmdldCgnc3BlbnRfZm9yJyk7IGNvbnN0IHNwZW50U2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwZW50X2ZvcicpOwogICAgaWYoQXJyYXkuZnJvbShzcGVudFNlbC5vcHRpb25zKS5zb21lKG8gPT4gby52YWx1ZSA9PT0gc3BlbnRWYWwpKSBzcGVudFNlbC52YWx1ZSA9IHNwZW50VmFsOwogICAgZWxzZSB7IHNwZW50U2VsLnZhbHVlID0gIk90aGVyIjsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwZW50X2Zvcl9vdGhlcicpLnZhbHVlID0gc3BlbnRWYWw7IH0KICAgIHRvZ2dsZVNtYXJ0T3RoZXIoc3BlbnRTZWwsICdzcGVudF9mb3Jfb3RoZXInLCAnc3BlbnRTbWFydFJvdycpOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zsb3cnKS52YWx1ZSA9IHAuZ2V0KCdmbG93Jyk7CiAgICBjb25zdCBhbXQgPSBwLmdldCgnZmxvdycpID09PSAnd2l0aGRyYXcnID8gcC5nZXQoJ3dpdGhkcmF3bicpIDogcC5nZXQoJ2RlcG9zaXQnKTsKICAgIGNyZWF0ZVBheW1lbnRSb3coeyB0eXBlOiBwLmdldCgndHJ0eXBlJyksIGFjYzogcC5nZXQoJ2Zyb21fdG8nKSwgYW10OiBhbXQgfSk7CiAgICB1cGRhdGVHcmFuZFRvdGFsKCk7CiAgICBzdG9yZS5nZXRBbGxLZXlzKCkub25zdWNjZXNzID0gKGV2KSA9PiB7IHN0b3JlLmRlbGV0ZShldi50YXJnZXQucmVzdWx0W2lkeF0pLm9uc3VjY2VzcyA9ICgpID0+IHsgdXBkYXRlUGVuZGluZ0NvdW50KCk7IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWV1ZU1vZGFsJykuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7IH07IH07CiAgfTsKfTsKCmZ1bmN0aW9uIHRvZ2dsZVNtYXJ0T3RoZXIoc2VsZWN0T2JqLCBvdGhlcklkLCBwYXJlbnRJZCkgewogIGNvbnN0IG90aGVySW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvdGhlcklkKTsKICBjb25zdCBwYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXJlbnRJZCk7CiAgY29uc3QgaXNPdGhlciA9IHNlbGVjdE9iai52YWx1ZSA9PT0gJ090aGVyJzsKICBvdGhlcklucHV0LmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsICFpc090aGVyKTsKICBvdGhlcklucHV0LmRpc2FibGVkID0gIWlzT3RoZXI7CiAgb3RoZXJJbnB1dC5yZXF1aXJlZCA9IGlzT3RoZXI7CiAgcGFyZW50LmNsYXNzTGlzdC50b2dnbGUoJ2hhcy1vdGhlcicsIGlzT3RoZXIpOwogIGlmKGlzT3RoZXIpIG90aGVySW5wdXQuZm9jdXMoKTsKfQoKZGVub21zLmZvckVhY2godiA9PiB7CiAgY29uc3Qgdl9udW0gPSBOdW1iZXIodik7CiAgY29uc3QgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOyBjLmNsYXNzTmFtZSA9ICJjYXNoLWNhcmQiOwogIGMuaW5uZXJIVE1MID0gYDxzcGFuPuKCuSR7dn08L3NwYW4+PGlucHV0IHR5cGU9Im51bWJlciIgZGF0YS12YWw9IiR7dn0iIGNsYXNzPSJkZW5vbS1pbnB1dCIgcGxhY2Vob2xkZXI9IjAiPmA7CiAgYy5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLm9uaW5wdXQgPSByZWNhbGNDYXNoOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXNoR3JpZCcpLmFwcGVuZENoaWxkKGMpOwp9KTsKCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5BZGRNb2RlJykub25jbGljayA9ICgpID0+IGNyZWF0ZVBheW1lbnRSb3coKTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0blZpZXdRdWV1ZScpLm9uY2xpY2sgPSAoKSA9PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVldWVNb2RhbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuU3luY0FsbCcpLm9uY2xpY2sgPSBzeW5jQWxsRGF0YTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0blN0b3BTeW5jJykub25jbGljayA9ICgpID0+IHsgc3luY0Fib3J0ZWQgPSB0cnVlOyB9Owpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGhlbWVUb2dnbGUnKS5vbmNsaWNrID0gKCkgPT4gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdkYXJrJyk7CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5Db25maXJtRmluYWwnKS5vbmNsaWNrID0gcHJvY2Vzc1NhdmU7CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5Db25maXJtQ2FuY2VsJykub25jbGljayA9ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtTW9kYWwnKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5SZXBlYXQnKS5vbmNsaWNrID0gKCkgPT4gewogIGNvbnN0IGxhc3QgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibGFzdFBhY2thZ2UiKTsgaWYoIWxhc3QpIHJldHVybjsKICBjb25zdCBsaXN0ID0gSlNPTi5wYXJzZShsYXN0KTsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BheW1lbnRDb250YWluZXInKS5pbm5lckhUTUwgPSAiIjsKICBsaXN0LmZvckVhY2goKHMsIGlkeCkgPT4gewogICAgY29uc3QgcCA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocyk7CiAgICBpZihpZHggPT09IDApIHsgCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hcnJhdGlvbicpLnZhbHVlID0gcC5nZXQoJ25hcnJhdGlvbicpOyAKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW52b2ljZV9ubycpLnZhbHVlID0gcC5nZXQoJ2ludm9pY2Vfbm8nKSB8fCAiIjsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVycG9zZScpLnZhbHVlID0gcC5nZXQoJ3B1cnBvc2UnKTsgCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwZW50X2ZvcicpLnZhbHVlID0gcC5nZXQoJ3NwZW50X2ZvcicpOyAKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmxvdycpLnZhbHVlID0gcC5nZXQoJ2Zsb3cnKTsgCiAgICAgICAgdG9nZ2xlU21hcnRPdGhlcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVycG9zZScpLCAncHVycG9zZV9vdGhlcicsICdwdXJwb3NlU21hcnRSb3cnKTsKICAgICAgICB0b2dnbGVTbWFydE90aGVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGVudF9mb3InKSwgJ3NwZW50X2Zvcl9vdGhlcicsICdzcGVudFNtYXJ0Um93Jyk7CiAgICB9CiAgICBjcmVhdGVQYXltZW50Um93KHsgdHlwZTogcC5nZXQoJ3RydHlwZScpLCBhY2M6IHAuZ2V0KCdmcm9tX3RvJyksIGFtdDogcC5nZXQoJ2Zsb3cnKSA9PT0gJ3dpdGhkcmF3JyA/IHAuZ2V0KCd3aXRoZHJhd24nKSA6IHAuZ2V0KCdkZXBvc2l0JykgfSk7CiAgfSk7CiAgdXBkYXRlR3JhbmRUb3RhbCgpOwp9Owpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZScpLnZhbHVlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCJUIilbMF07CmNyZWF0ZVBheW1lbnRSb3coKTsKPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo=",
      f2: "PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogIDx0aXRsZT5Mb2FuIEVudHJ5IHwgU21hcnQgU3luYyBQcm88L3RpdGxlPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wIj4KICA8c3R5bGU+CiAgICBAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1JbnRlcjp3Z2h0QDQwMDs1MDA7NjAwOzcwMCZkaXNwbGF5PXN3YXAnKTsKCiAgICA6cm9vdCB7IAogICAgICAtLWg6IDQycHg7IC0tcjogMTBweDsKICAgICAgLS1wcmltYXJ5OiAjMjJjNTVlOyAKICAgICAgLS1zZWNvbmRhcnk6ICMzYjgyZjY7IAogICAgICAtLWRhbmdlcjogI2VmNDQ0NDsgCiAgICAgIC0tYmctYm9keTogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2VlZjJmNywgI2Y5ZmFmYik7CiAgICAgIC0tYmctY2FyZDogI2ZmZmZmZjsKICAgICAgLS1iZy1pbnB1dDogI2ZmZmZmZjsKICAgICAgLS1iZy1jYXNoOiAjZjlmYWZiOwogICAgICAtLXRleHQtbWFpbjogIzExMTgyNzsKICAgICAgLS10ZXh0LWxhYmVsOiAjMzc0MTUxOwogICAgICAtLWJvcmRlci1jb2xvcjogI2QxZDVkYjsKICAgIH0KCiAgICBib2R5LmRhcmsgeyAKICAgICAgLS1iZy1ib2R5OiAjMDIwNjE3OyAtLWJnLWNhcmQ6ICMwZjE3MmE7IC0tYmctaW5wdXQ6ICMxZTI5M2I7CiAgICAgIC0tYmctY2FzaDogIzFlMjkzYjsgLS10ZXh0LW1haW46ICNmOWZhZmI7IC0tdGV4dC1sYWJlbDogIzk0YTNiODsgLS1ib3JkZXItY29sb3I6ICMzMzQxNTU7CiAgICB9CgogICAgYm9keSB7IGZvbnQtZmFtaWx5OiAnSW50ZXInLCBzYW5zLXNlcmlmOyBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1ib2R5KTsgY29sb3I6IHZhcigtLXRleHQtbWFpbik7IHBhZGRpbmc6IDE1cHg7IG1hcmdpbjogMDsgbWluLWhlaWdodDogMTAwdmg7IHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4zczsgfQoKICAgIGZvcm0sIC5jb25maXJtLWNhcmQgeyBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1jYXJkKTsgbWF4LXdpZHRoOiA0NDBweDsgbWFyZ2luOiBhdXRvOyBwYWRkaW5nOiAyMnB4OyBib3JkZXItcmFkaXVzOiAxNnB4OyBib3gtc2hhZG93OiAwIDEwcHggMzBweCByZ2JhKDAsMCwwLC4wOCk7IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7IHBvc2l0aW9uOiByZWxhdGl2ZTsgfQoKICAgIC5jb25maXJtLWNhcmQgeyBtYXgtd2lkdGg6IDU1MHB4OyB3aWR0aDogOTUlOyB9CgogICAgLmhlYWRlci1yb3cgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IG1hcmdpbi1ib3R0b206IDIwcHg7IH0KICAgIGgzIHsgbWFyZ2luOiAwcHg7IGZvbnQtc2l6ZTogMThweDsgdGV4dC1hbGlnbjogY2VudGVyOyBmb250LXdlaWdodDogNzAwOyBmbGV4LWdyb3c6IDE7IH0KCiAgICAjdGhlbWVUb2dnbGUgewogICAgICB3aWR0aDogMzJweDsKICAgICAgaGVpZ2h0OiAzMnB4OwogICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7CiAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLWlucHV0KTsKICAgICAgY29sb3I6IHZhcigtLXRleHQtbWFpbik7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgIHBhZGRpbmc6IDA7CiAgICAgIGxpbmUtaGVpZ2h0OiAxOwogICAgICBmb250LXNpemU6IDE2cHg7CiAgICB9CgogICAgI25ldFN0YXR1cyB7IHdpZHRoOiAxMHB4OyBoZWlnaHQ6IDEwcHg7IGJvcmRlci1yYWRpdXM6IDUwJTsgYmFja2dyb3VuZDogIzk0YTNiODsgfQogICAgI25ldFN0YXR1cy5vbmxpbmUgeyBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5KTsgYm94LXNoYWRvdzogMCAwIDhweCB2YXIoLS1wcmltYXJ5KTsgfQoKICAgIC5iYXRjaC1jb250cm9sIHsgZGlzcGxheTogZmxleDsgaGVpZ2h0OjMwcHg7YWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBiYWNrZ3JvdW5kOiByZ2JhKDM0LCAxOTcsIDk0LCAwLjEpOyBwYWRkaW5nOiA4cHggMTJweDsgYm9yZGVyLXJhZGl1czogMTBweDsgbWFyZ2luLWJvdHRvbTogMTVweDsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tcHJpbWFyeSk7IH0KICAgIC5zd2l0Y2ggeyBwb3NpdGlvbjogcmVsYXRpdmU7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IDM0cHg7IGhlaWdodDogMThweDsgbWFyZ2luLXRvcDowcHg7fQogICAgLnN3aXRjaCBpbnB1dCB7IG9wYWNpdHk6IDA7IHdpZHRoOiAwOyBoZWlnaHQ6IDA7IH0KICAgIC5zbGlkZXIgeyBwb3NpdGlvbjogYWJzb2x1dGU7IGN1cnNvcjogcG9pbnRlcjsgdG9wOiAwOyBsZWZ0OiAwOyByaWdodDogMDsgYm90dG9tOiAwOyBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjOyB0cmFuc2l0aW9uOiAuNHM7IGJvcmRlci1yYWRpdXM6IDIwcHg7IH0KICAgIC5zbGlkZXI6YmVmb3JlIHsgcG9zaXRpb246IGFic29sdXRlOyBjb250ZW50OiAiIjsgaGVpZ2h0OiAxNHB4OyB3aWR0aDogMTRweDsgbGVmdDogMnB4OyBib3R0b206IDJweDsgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7IHRyYW5zaXRpb246IC40czsgYm9yZGVyLXJhZGl1czogNTAlOyB9CiAgICBpbnB1dDpjaGVja2VkICsgLnNsaWRlciB7IGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnkpOyB9CiAgICBpbnB1dDpjaGVja2VkICsgLnNsaWRlcjpiZWZvcmUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTZweCk7IH0KCiAgICBsYWJlbCB7IGZvbnQtc2l6ZTogMTFweDsgZm9udC13ZWlnaHQ6IDcwMDsgbWFyZ2luLXRvcDogMTRweDsgZGlzcGxheTpibG9jazsgY29sb3I6IHZhcigtLXRleHQtbGFiZWwpOyB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyB9CgogICAgaW5wdXQsIHNlbGVjdCwgYnV0dG9uIHsgd2lkdGg6IDEwMCU7IGhlaWdodDogdmFyKC0taCk7IG1hcmdpbi10b3A6IDVweDsgcGFkZGluZzogMCAxMnB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOyBmb250LXNpemU6IDE0cHg7IGJhY2tncm91bmQ6IHZhcigtLWJnLWlucHV0KTsgY29sb3I6IHZhcigtLXRleHQtbWFpbik7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IHRyYW5zaXRpb246IDAuMnM7IH0KICAgIGlucHV0OmZvY3VzLCBzZWxlY3Q6Zm9jdXMgeyBvdXRsaW5lOiBub25lOyBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnkpOyBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgzNCwxOTcsOTQsLjEpOyB9CgogICAgLyogSG9yaXpvbnRhbCBBbGlnbm1lbnQgZm9yIFNtYXJ0IFJvdyAqLwogICAgLnNtYXJ0LXJvdyB7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogMTAwJTsgfQogICAgLnNtYXJ0LXJvdy5oYXMtb3RoZXIgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7IGdhcDogOHB4OyB9CiAgICAuc21hcnQtcm93IGlucHV0IHsgbWFyZ2luLXRvcDogNXB4OyB9CgogICAgLmVyci1tc2cgeyBjb2xvcjogdmFyKC0tZGFuZ2VyKTsgZm9udC1zaXplOiAxMHB4OyBtYXJnaW4tdG9wOiA0cHg7IGRpc3BsYXk6IG5vbmU7IGZvbnQtd2VpZ2h0OiA2MDA7IH0KICAgIGZvcm0ud2FzLXZhbGlkYXRlZCA6aW52YWxpZCB+IC5lcnItbXNnLCAuaXMtaW52YWxpZCB+IC5lcnItbXNnIHsgZGlzcGxheTogYmxvY2s7IH0KICAgIGZvcm0ud2FzLXZhbGlkYXRlZCA6aW52YWxpZCwgLmlzLWludmFsaWQgeyBib3JkZXItY29sb3I6IHZhcigtLWRhbmdlcikgIWltcG9ydGFudDsgYmFja2dyb3VuZDogcmdiYSgyMzksIDY4LCA2OCwgMC4wMykgIWltcG9ydGFudDsgfQoKICAgIC5wYXltZW50LXJvdy13cmFwcGVyIHsgbWFyZ2luLWJvdHRvbTogMTJweDsgYm9yZGVyLWJvdHRvbTogMXB4IGRhc2hlZCB2YXIoLS1ib3JkZXItY29sb3IpOyBwYWRkaW5nLWJvdHRvbTogMTJweDsgfQogICAgLnBheW1lbnQtcm93IHsgZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyIDgwcHggMzVweDsgZ2FwOiA2cHg7IGFsaWduLWl0ZW1zOiBlbmQ7IH0KICAgIC5idG4tZGVsLW1vZGUgeyBiYWNrZ3JvdW5kOiAjZmVlMmUyOyBjb2xvcjogI2VmNDQ0NDsgYm9yZGVyOiAxcHggc29saWQgI2ZlY2FjYTsgY3Vyc29yOiBwb2ludGVyOyBib3JkZXItcmFkaXVzOiA4cHg7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBoZWlnaHQ6IHZhcigtLWgpOyBwYWRkaW5nOiAwOyB9CiAgICAKICAgIC5idG4tYWRkLW1vZGUgeyBiYWNrZ3JvdW5kOiB2YXIoLS1zZWNvbmRhcnkpOyBjb2xvcjogI2ZmZjsgYm9yZGVyOiBub25lOyBmb250LXNpemU6IDExcHg7IGhlaWdodDogMjRweDsgY3Vyc29yOiBwb2ludGVyOyBib3JkZXItcmFkaXVzOiA2cHg7IHdpZHRoOiBhdXRvOyBwYWRkaW5nOiAwIDEwcHg7IG1hcmdpbjogMDsgfQoKICAgIC50b3RhbC1kaXNwbGF5IHsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyOyBtYXJnaW4tdG9wOiAxMHB4OyBwYWRkaW5nOiAxMHB4OyBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1jYXNoKTsgYm9yZGVyLXJhZGl1czogMTBweDsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgfQogICAgI2dyYW5kVG90YWwgeyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogdmFyKC0tcHJpbWFyeSk7IGZvbnQtc2l6ZTogMTZweDsgfQoKICAgIC5jYXNoLWJveCB7IG1hcmdpbi10b3A6IDEwcHg7IHBhZGRpbmc6IDEycHg7IGJvcmRlci1yYWRpdXM6IDEycHg7IGJhY2tncm91bmQ6IHZhcigtLWJnLWNhc2gpOyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOyB9CiAgICAuZGVub20tZ3JpZCB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDMsIDFmcik7IGdhcDogOHB4OyB9CiAgICAuZGVub20tY2FyZCwgLmNvbmZpcm0tbWF0cml4LWNhcmQgeyBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1jYXJkKTsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiA1cHg7IHRleHQtYWxpZ246IGNlbnRlcjsgfQogICAgLmRlbm9tLWNhcmQgc3BhbiwgLmNvbmZpcm0tbWF0cml4LWNhcmQgc3BhbiB7IGRpc3BsYXk6IGJsb2NrOyBmb250LXNpemU6IDEwcHg7IGZvbnQtd2VpZ2h0OiA2MDA7IH0KICAgIC5kZW5vbS1jYXJkIGlucHV0IHsgaGVpZ2h0OiAyOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbi10b3A6IDJweDsgZm9udC1zaXplOiAxMnB4OyB3aWR0aDogMTAwJTsgfQoKICAgIC5idG4tZ3JvdXAgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7IGdhcDogMTBweDsgbWFyZ2luLXRvcDogMjVweDsgfQogICAgI21haW5TdWJtaXRCdG4sIC5idG4tY29uZmlybSB7IGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnkpOyBjb2xvcjogI2ZmZjsgYm9yZGVyOiBub25lOyBmb250LXdlaWdodDogNzAwOyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgICNidG5SZXBlYXQsIC5idG4tY2FuY2VsIHsgYmFja2dyb3VuZDogdmFyKC0tYmctaW5wdXQpOyBjb2xvcjogdmFyKC0tdGV4dC1tYWluKTsgYm9yZGVyOiAxLjVweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOyBmb250LXdlaWdodDogNjAwOyBjdXJzb3I6IHBvaW50ZXI7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBnYXA6IDZweDsgfQoKICAgIC5zeW5jLXdyYXBwZXIgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7IGdhcDogMTBweDsgbWFyZ2luLXRvcDogMTVweDsgYm9yZGVyLXRvcDogMXB4IGRhc2hlZCB2YXIoLS1ib3JkZXItY29sb3IpOyBwYWRkaW5nLXRvcDogMTVweDsgfQogICAgCiAgICAubW9kYWwgeyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjcpOyBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNHB4KTsgei1pbmRleDogMTAwMDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHBhZGRpbmc6IDEwcHg7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH0KICAgIC5tb2RhbC1jb250ZW50IHsgYmFja2dyb3VuZDogdmFyKC0tYmctY2FyZCk7IHdpZHRoOiA5OCU7IG1heC13aWR0aDogOTAwcHg7IG1heC1oZWlnaHQ6IDg1dmg7IGJvcmRlci1yYWRpdXM6IDE0cHg7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IG92ZXJmbG93OiBoaWRkZW47IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7IH0KICAgIAogICAgLmNvbmZpcm0taXRlbSB7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgcGFkZGluZzogOHB4IDA7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOyBmb250LXNpemU6IDEzcHg7IH0KICAgIC5jb25maXJtLWxhYmVsIHsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6IHZhcigtLXRleHQtbGFiZWwpOyBmb250LXNpemU6IDExcHg7IHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IH0KICAgIC5jb25maXJtLXZhbCB7IGNvbG9yOiB2YXIoLS10ZXh0LW1haW4pOyB0ZXh0LWFsaWduOiByaWdodDsgZm9udC13ZWlnaHQ6IDUwMDsgfQogICAgLmNvbmZpcm0tc2VjdGlvbi10aXRsZSB7IGZvbnQtc2l6ZTogMTFweDsgZm9udC13ZWlnaHQ6IDgwMDsgY29sb3I6IHZhcigtLXByaW1hcnkpOyBtYXJnaW46IDE1cHggMCA1cHggMDsgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgbGV0dGVyLXNwYWNpbmc6IDAuNXB4OyB9CgogICAgLmhpZGRlbiB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfQogICAgQGtleWZyYW1lcyBibGluayB7IDUwJSB7IG9wYWNpdHk6IDAuNTsgfSB9CiAgICAuc2F2aW5nLXRleHQgeyBhbmltYXRpb246IGJsaW5rIDFzIGluZmluaXRlOyB9CiAgICAKICAgIC5idG4tYWN0aW9uIHsgd2lkdGg6IDMwcHg7IGhlaWdodDogMzBweDsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IGJvcmRlcjogbm9uZTsgY3Vyc29yOiBwb2ludGVyOyBmb250LXNpemU6IDE0cHg7IH0KICA8L3N0eWxlPgo8L2hlYWQ+Cgo8Ym9keT4KCjxmb3JtIGlkPSJsb2FuRm9ybSIgbm92YWxpZGF0ZT4KICA8ZGl2IGNsYXNzPSJoZWFkZXItcm93Ij4KICAgIDxkaXYgaWQ9Im5ldFN0YXR1cyIgdGl0bGU9IlN0YXR1cyI+PC9kaXY+CiAgICA8aDM+TG9hbiBFbnRyeTwvaDM+CiAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgaWQ9InRoZW1lVG9nZ2xlIj7wn4yZPC9idXR0b24+CiAgPC9kaXY+CgogIDxkaXYgY2xhc3M9ImJhdGNoLWNvbnRyb2wiPgogICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTogMTJweDsgZm9udC13ZWlnaHQ6IDYwMDsiPkJhdGNoIE1vZGU8L3NwYW4+CiAgICA8bGFiZWwgY2xhc3M9InN3aXRjaCI+CiAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImJhdGNoVG9nZ2xlIj4KICAgICAgPHNwYW4gY2xhc3M9InNsaWRlciI+PC9zcGFuPgogICAgPC9sYWJlbD4KICA8L2Rpdj4KCiAgPGxhYmVsPkRhdGU8L2xhYmVsPgogIDxpbnB1dCB0eXBlPSJkYXRlIiBpZD0iZGF0ZSIgcmVxdWlyZWQ+CiAgPGRpdiBjbGFzcz0iZXJyLW1zZyI+U2VsZWN0aW9uIHJlcXVpcmVkPC9kaXY+CgogIDxsYWJlbD5Cb3Jyb3dlcjwvbGFiZWw+CiAgPGRpdiBpZD0iYm9ycm93ZXJTbWFydFJvdyIgY2xhc3M9InNtYXJ0LXJvdyI+CiAgICA8c2VsZWN0IGlkPSJib3Jyb3dlciIgcmVxdWlyZWQgb25jaGFuZ2U9InRvZ2dsZVNtYXJ0T3RoZXIodGhpcywgJ2JvcnJvd2VyX290aGVyJywgJ2JvcnJvd2VyU21hcnRSb3cnKSI+CiAgICAgIDxvcHRpb24gdmFsdWU9IiI+U2VsZWN0PC9vcHRpb24+CiAgICAgIDxvcHRpb24+Q2hpbm5hbWE8L29wdGlvbj48b3B0aW9uPkdyYW5kIEZhdGhlcjwvb3B0aW9uPjxvcHRpb24+TW90aGVyPC9vcHRpb24+PG9wdGlvbj5QZWRoYW1tYTwvb3B0aW9uPjxvcHRpb24+UmF2aSBCYWJhaTwvb3B0aW9uPjxvcHRpb24+U3Jpbml2YXMgQmFiYWk8L29wdGlvbj48b3B0aW9uPlZhc2F2aTwvb3B0aW9uPjxvcHRpb24gdmFsdWU9Ik90aGVyIj5PdGhlcjwvb3B0aW9uPgogICAgPC9zZWxlY3Q+CiAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImJvcnJvd2VyX290aGVyIiBjbGFzcz0iaGlkZGVuIiBwbGFjZWhvbGRlcj0iRW50ZXIgbmFtZSIgcmVxdWlyZWQgZGlzYWJsZWQ+CiAgICA8ZGl2IGNsYXNzPSJlcnItbXNnIj5Cb3Jyb3dlciByZXF1aXJlZDwvZGl2PgogIDwvZGl2PgoKICA8bGFiZWw+TmFycmF0aW9uPC9sYWJlbD4KICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9Im5hcnJhdGlvbiIgcmVxdWlyZWQgcGxhY2Vob2xkZXI9IlJlYXNvbiBmb3IgbG9hbiI+CiAgPGRpdiBjbGFzcz0iZXJyLW1zZyI+RGVzY3JpcHRpb24gcmVxdWlyZWQ8L2Rpdj4KCiAgPGxhYmVsPkludm9pY2UgTm8uIChPcHRpb25hbCk8L2xhYmVsPgogIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iaW52b2ljZSIgcGxhY2Vob2xkZXI9Ik9wdGlvbmFsIj4KCiAgPGxhYmVsPlRyYW5zYWN0aW9uIFR5cGU8L2xhYmVsPgogIDxzZWxlY3QgaWQ9InRydHlwZSIgcmVxdWlyZWQ+CiAgICA8b3B0aW9uIHZhbHVlPSIiPlNlbGVjdDwvb3B0aW9uPgogICAgPG9wdGlvbiB2YWx1ZT0ibG9hbl9naXZlbiI+TG9hbiBHaXZlbjwvb3B0aW9uPgogICAgPG9wdGlvbiB2YWx1ZT0ibG9hbl9yZWNlaXZlZCI+TG9hbiBSZWNlaXZlZDwvb3B0aW9uPgogIDwvc2VsZWN0PgogIDxkaXYgY2xhc3M9ImVyci1tc2ciPlR5cGUgcmVxdWlyZWQ8L2Rpdj4KCiAgPGRpdiBjbGFzcz0iaGVhZGVyLXJvdyIgc3R5bGU9Im1hcmdpbi10b3A6IDE0cHg7IG1hcmdpbi1ib3R0b206IDVweDsiPgogICAgPGxhYmVsIHN0eWxlPSJtYXJnaW46MCI+UGF5bWVudCBCcmVha2Rvd248L2xhYmVsPgogICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4tYWRkLW1vZGUiIGlkPSJidG5BZGRNb2RlIj4rIEFkZCBNb2RlPC9idXR0b24+CiAgPC9kaXY+CiAgPGRpdiBpZD0icGF5bWVudENvbnRhaW5lciI+PC9kaXY+CgogIDxkaXYgY2xhc3M9InRvdGFsLWRpc3BsYXkiPgogICAgPGxhYmVsIHN0eWxlPSJtYXJnaW46MDsgZm9udC13ZWlnaHQ6NzAwOyBmb250LXNpemU6MTJweDsiPlRvdGFsIEFtb3VudDo8L2xhYmVsPgogICAgPHNwYW4gaWQ9ImdyYW5kVG90YWwiPuKCuTAuMDA8L3NwYW4+CiAgPC9kaXY+CgogIDxkaXYgaWQ9ImNhc2hCbG9jayIgY2xhc3M9ImNhc2gtYm94IGhpZGRlbiI+CiAgICA8ZGl2IHN0eWxlPSJmb250LXdlaWdodDo2MDA7IGZvbnQtc2l6ZToxMXB4OyBtYXJnaW4tYm90dG9tOjZweDsgY29sb3I6dmFyKC0tcHJpbWFyeSkiPkNBU0ggREVOT01JTkFUSU9OUzwvZGl2PgogICAgPGRpdiBjbGFzcz0iZGVub20tZ3JpZCIgaWQ9ImNhc2hHcmlkIj48L2Rpdj4KICA8L2Rpdj4KCiAgPGRpdiBjbGFzcz0iYnRuLWdyb3VwIj4KICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBpZD0ibWFpblN1Ym1pdEJ0biI+U2F2ZSBMb2FuPC9idXR0b24+CiAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgaWQ9ImJ0blJlcGVhdCI+4oa6IFJlcGVhdCBMYXN0PC9idXR0b24+CiAgPC9kaXY+CiAgCiAgPGRpdiBpZD0iZm9vdGVyU3luYyIgY2xhc3M9InN5bmMtd3JhcHBlciBoaWRkZW4iPgogICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJidG5TeW5jQWxsIiBzdHlsZT0iYmFja2dyb3VuZDp2YXIoLS1zZWNvbmRhcnkpOyBjb2xvcjp3aGl0ZTsgZm9udC1zaXplOjExcHg7IGZvbnQtd2VpZ2h0OjcwMDsgYm9yZGVyOm5vbmU7IGhlaWdodDozOHB4OyI+CiAgICAgIDxzcGFuIGlkPSJzeW5jVGV4dCI+4piB77iPIFN5bmMgQWxsPC9zcGFuPgogICAgICA8c21hbGwgaWQ9InN5bmNDb3VudCI+KDApPC9zbWFsbD4KICAgIDwvYnV0dG9uPgogICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJidG5TdG9wU3luYyIgY2xhc3M9ImhpZGRlbiIgc3R5bGU9ImJhY2tncm91bmQ6dmFyKC0tZGFuZ2VyKTsgY29sb3I6d2hpdGU7IGZvbnQtc2l6ZToxMXB4OyBmb250LXdlaWdodDo3MDA7IGJvcmRlcjpub25lOyBoZWlnaHQ6MzhweDsiPvCfm5EgU3RvcCBTeW5jPC9idXR0b24+CiAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgaWQ9ImJ0blZpZXdRdWV1ZSIgc3R5bGU9ImJhY2tncm91bmQ6Izk0YTNiODsgY29sb3I6d2hpdGU7IGZvbnQtc2l6ZToxMXB4OyBmb250LXdlaWdodDo3MDA7IGJvcmRlcjpub25lOyBoZWlnaHQ6MzhweDsiPvCfk4sgVmlldyBRdWV1ZTwvYnV0dG9uPgogIDwvZGl2Pgo8L2Zvcm0+Cgo8ZGl2IGlkPSJjb25maXJtTW9kYWwiIGNsYXNzPSJtb2RhbCBoaWRkZW4iPgogIDxkaXYgY2xhc3M9ImNvbmZpcm0tY2FyZCI+CiAgICA8aDMgc3R5bGU9Im1hcmdpbi1ib3R0b206IDIwcHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOyBwYWRkaW5nLWJvdHRvbTogMTBweDsiPkNvbmZpcm0gTG9hbiBEZXRhaWxzPC9oMz4KICAgIDxkaXYgaWQ9ImNvbmZpcm1EZXRhaWxzIj48L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImJ0bi1ncm91cCI+CiAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iYnRuQ29uZmlybUZpbmFsIiBjbGFzcz0iYnRuLWNvbmZpcm0iPlByb2NlZWQ8L2J1dHRvbj4KICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJidG5Db25maXJtQ2FuY2VsIiBjbGFzcz0iYnRuLWNhbmNlbCI+RWRpdDwvYnV0dG9uPgogICAgPC9kaXY+CiAgPC9kaXY+CjwvZGl2PgoKPGRpdiBpZD0icXVldWVNb2RhbCIgY2xhc3M9Im1vZGFsIGhpZGRlbiI+CiAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiIHN0eWxlPSJwYWRkaW5nOiAxNXB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBiYWNrZ3JvdW5kOnZhcigtLWJnLWNhc2gpIj4KICAgICAgPGg0IHN0eWxlPSJtYXJnaW46MCI+UGVuZGluZyBTeW5jIFF1ZXVlPC9oND4KICAgICAgPHNwYW4gc3R5bGU9ImN1cnNvcjpwb2ludGVyIiBvbmNsaWNrPSJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVldWVNb2RhbCcpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpIj7inJU8L3NwYW4+CiAgICA8L2Rpdj4KICAgIDxkaXYgc3R5bGU9Im92ZXJmbG93OiBhdXRvOyI+CiAgICAgIDx0YWJsZSBzdHlsZT0id2lkdGg6MTAwJTsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgZm9udC1zaXplOjEycHg7IG1pbi13aWR0aDogNjAwcHg7Ij4KICAgICAgICA8dGhlYWQgc3R5bGU9ImJhY2tncm91bmQ6dmFyKC0tYmctY2FzaCkiPgogICAgICAgICAgPHRyPgogICAgICAgICAgICA8dGggc3R5bGU9InBhZGRpbmc6MTBweCI+RGF0ZTwvdGg+CiAgICAgICAgICAgIDx0aCBzdHlsZT0icGFkZGluZzoxMHB4Ij5Cb3Jyb3dlcjwvdGg+CiAgICAgICAgICAgIDx0aCBzdHlsZT0icGFkZGluZzoxMHB4Ij5OYXJyYXRpb248L3RoPgogICAgICAgICAgICA8dGggc3R5bGU9InBhZGRpbmc6MTBweCI+TW9kZSAoQWNjb3VudCk8L3RoPgogICAgICAgICAgICA8dGggc3R5bGU9InBhZGRpbmc6MTBweCI+QW1vdW50PC90aD4KICAgICAgICAgICAgPHRoIHN0eWxlPSJwYWRkaW5nOjEwcHgiPkFjdGlvbjwvdGg+CiAgICAgICAgICA8L3RyPgogICAgICAgIDwvdGhlYWQ+CiAgICAgICAgPHRib2R5IGlkPSJxdWV1ZVRhYmxlQm9keSIgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyIj48L3Rib2R5PgogICAgICA8L3RhYmxlPgogICAgPC9kaXY+CiAgPC9kaXY+CjwvZGl2PgoKPHNjcmlwdD4KICBjb25zdCBTQ1JJUFRfVVJMID0gImh0dHBzOi8vc2NyaXB0Lmdvb2dsZS5jb20vbWFjcm9zL3MvQUtmeWNid3FQanppZlQxcEdUVlJCdjl6UFQ3S3RiVHF0aFV1bmsxek5FUHVTXy00Z0hQZ2hXZkdvbmJuZFRuWlhGc1NnYmUtdlEvZXhlYyI7CiAgY29uc3QgYmFua0FjY291bnRzID0gWyJGSSIsIkhERkMgT2xkIiwiSERGQyBOZXciLCJJQ0lDSSIsIkluZHVzSW5kIiwiS290YWsiLCJSQkwiLCJTQkkiXTsKICBjb25zdCBjcmVkaXRDYXJkcyA9WwogICJBeGlzIEZsaXBrYXJ0IiwiQXhpcyBNeVpvbmUiLCJBeGlzIE5lbyIsCiAgIkhERkMgUGhvbmVQZSIsIkhERkMgVGF0YSBOZXUiLCJIREZDIE1pbGxlbm5pYSIsCiAgIkhTQkMiLCJJREZDIEZpcnN0IE1pbGxlbmlhIiwKICAiSUNJQ0kgQW1hem9uIiwiSUNJQ0kgQ29yYWwiLCJJQ0lDSSBFeHByZXNzaW9ucyIsCiAgIkluZHVzaW5kIFBsYXQgQXVyYSBFREdFIiwiSW5kdXNpbmQgTGVnZW5kIiwKICAiWWVzIEZpbmJvb3N0ZXIiLCJLb3RhayBMZWFndWUiLCJLb3RhayBJbWFnZSIsCiAgIlNCSSBCUENMIiwiU3RhbmRhcmQgQ2hhcnRlcmVkIgpdOwogIGNvbnN0IHJld2FyZFBsYXRmb3JtcyA9IFsiQW1hem9uIiwgIkZsaXBrYXJ0IiwgIlN1cGVybW9uZXkiLCAiUGF5emFwcCIsICJNb2JpS3dpayIsICJUYXRhIE5ldSJdOwogIGNvbnN0IGRlbm9tcyA9IFs1MDAsMjAwLDEwMCw1MCwyMCwxMCw1LDIsMV07CgogIGxldCBkYjsKICBsZXQgY3VycmVudFBheWxvYWRzID0gW107CiAgbGV0IGlzU3VibWl0dGluZyA9IGZhbHNlOyAKICBsZXQgc3luY0Fib3J0ZWQgPSBmYWxzZTsKICBjb25zdCBTVE9SRV9OQU1FID0gImxvYW5RdWV1ZSI7CiAgY29uc3QgbG9hbkZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9hbkZvcm0iKTsKCiAgKGZ1bmN0aW9uIGluaXREQigpewogICAgY29uc3QgcmVxID0gaW5kZXhlZERCLm9wZW4oIkxvYW5BcHBEQl92NiIsIDEpOwogICAgcmVxLm9udXBncmFkZW5lZWRlZCA9IGUgPT4gZS50YXJnZXQucmVzdWx0LmNyZWF0ZU9iamVjdFN0b3JlKFNUT1JFX05BTUUsIHsga2V5UGF0aDogImlkIiwgYXV0b0luY3JlbWVudDogdHJ1ZSB9KTsKICAgIHJlcS5vbnN1Y2Nlc3MgPSBlID0+IHsgZGIgPSBlLnRhcmdldC5yZXN1bHQ7IHVwZGF0ZVBlbmRpbmdDb3VudCgpOyB1cGRhdGVOZXRTdGF0dXMoKTsgfTsKICB9KSgpOwoKICBmdW5jdGlvbiB1cGRhdGVOZXRTdGF0dXMoKSB7IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuZXRTdGF0dXMiKS5jbGFzc05hbWUgPSBuYXZpZ2F0b3Iub25MaW5lID8gIm9ubGluZSIgOiAiIjsgfQogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCB1cGRhdGVOZXRTdGF0dXMpOwogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgdXBkYXRlTmV0U3RhdHVzKTsKCiAgZnVuY3Rpb24gY3JlYXRlUGF5bWVudFJvdyhpbml0aWFsID0gbnVsbCkgewogICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgd3JhcHBlci5jbGFzc05hbWUgPSAncGF5bWVudC1yb3ctd3JhcHBlcic7CiAgICB3cmFwcGVyLmlubmVySFRNTCA9IGAKICAgICAgPGRpdiBjbGFzcz0icGF5bWVudC1yb3ciPgogICAgICAgIDxkaXY+PHNlbGVjdCBjbGFzcz0icm93LXR5cGUiIHJlcXVpcmVkPjxvcHRpb24gdmFsdWU9IiI+VHlwZTwvb3B0aW9uPjxvcHRpb24gdmFsdWU9ImNhc2giPkNhc2g8L29wdGlvbj48b3B0aW9uIHZhbHVlPSJkZWJpdCI+RGViaXQ8L29wdGlvbj48b3B0aW9uIHZhbHVlPSJ1cGkiPlVQSTwvb3B0aW9uPjxvcHRpb24gdmFsdWU9Im5ldCI+TmV0PC9vcHRpb24+PG9wdGlvbiB2YWx1ZT0iY3JlZGl0Ij5DcmVkaXQgQ2FyZDwvb3B0aW9uPjxvcHRpb24gdmFsdWU9IlJld2FyZHMiPlJld2FyZHM8L29wdGlvbj48L3NlbGVjdD48L2Rpdj4KICAgICAgICA8ZGl2PjxzZWxlY3QgY2xhc3M9InJvdy1hY2MiIHJlcXVpcmVkPjxvcHRpb24gdmFsdWU9IiI+QWNjb3VudDwvb3B0aW9uPjwvc2VsZWN0PjwvZGl2PgogICAgICAgIDxkaXY+PGlucHV0IHR5cGU9Im51bWJlciIgY2xhc3M9InJvdy1hbXQiIHBsYWNlaG9sZGVyPSJBbXQiIHN0ZXA9IjAuMDEiIHJlcXVpcmVkIG1pbj0iMC4wMSI+PC9kaXY+CiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4tZGVsLW1vZGUiPuKclTwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJyb3ctYWNjLW90aGVyIGhpZGRlbiIgc3R5bGU9Im1hcmdpbi10b3A6NnB4OyBoZWlnaHQ6MzZweDsgd2lkdGg6MTAwJTsgYm9yZGVyLXJhZGl1czoxMHB4OyBib3JkZXI6MXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7IHBhZGRpbmc6MCAxMHB4OyIgcGxhY2Vob2xkZXI9IlNwZWNpZnkgQWNjb3VudCIgcmVxdWlyZWQgZGlzYWJsZWQ+CiAgICAgIDxkaXYgY2xhc3M9ImVyci1tc2ciPkZpZWxkIHJlcXVpcmVkPC9kaXY+CiAgICBgOwoKICAgIGNvbnN0IHRTZWwgPSB3cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy5yb3ctdHlwZScpOwogICAgY29uc3QgYVNlbCA9IHdyYXBwZXIucXVlcnlTZWxlY3RvcignLnJvdy1hY2MnKTsKICAgIGNvbnN0IGFtdElucCA9IHdyYXBwZXIucXVlcnlTZWxlY3RvcignLnJvdy1hbXQnKTsKICAgIGNvbnN0IG90aGVyQWNjID0gd3JhcHBlci5xdWVyeVNlbGVjdG9yKCcucm93LWFjYy1vdGhlcicpOwoKICAgIHRTZWwub25jaGFuZ2UgPSAoKSA9PiB7CiAgICAgIGFTZWwuaW5uZXJIVE1MID0gJzxvcHRpb24gdmFsdWU9IiI+U2VsZWN0PC9vcHRpb24+JzsKICAgICAgaWYodFNlbC52YWx1ZSA9PT0gJ2Nhc2gnKSB7CiAgICAgICAgYVNlbC5hZGQobmV3IE9wdGlvbigiQ2FzaCIsICJDYXNoIikpOyBhU2VsLnZhbHVlID0gIkNhc2giOyBhU2VsLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICBhbXRJbnAucmVhZE9ubHkgPSB0cnVlOyByZWNhbGNDYXNoKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYVNlbC5kaXNhYmxlZCA9IGZhbHNlOyBhbXRJbnAucmVhZE9ubHkgPSBmYWxzZTsKICAgICAgICBsZXQgbGlzdCA9ICh0U2VsLnZhbHVlID09PSAiY3JlZGl0IikgPyBjcmVkaXRDYXJkcyA6ICh0U2VsLnZhbHVlID09PSAiUmV3YXJkcyIgPyByZXdhcmRQbGF0Zm9ybXMgOiBiYW5rQWNjb3VudHMpOwogICAgICAgIGxpc3QuZm9yRWFjaChhID0+IGFTZWwuYWRkKG5ldyBPcHRpb24oYSwgYSkpKTsKICAgICAgICBpZih0U2VsLnZhbHVlID09PSAiUmV3YXJkcyIpIGFTZWwuYWRkKG5ldyBPcHRpb24oIk90aGVyIiwgIk90aGVyIikpOwogICAgICB9CiAgICAgIGFTZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScpKTsKICAgICAgdG9nZ2xlQ2FzaEJsb2NrKCk7CiAgICAgIHRTZWwuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaW52YWxpZCcpOwogICAgfTsKCiAgICBhU2VsLm9uY2hhbmdlID0gKCkgPT4gewogICAgICBjb25zdCBpc090aGVyID0gYVNlbC52YWx1ZSA9PT0gJ090aGVyJzsKICAgICAgb3RoZXJBY2MuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgIWlzT3RoZXIpOwogICAgICBvdGhlckFjYy5kaXNhYmxlZCA9ICFpc090aGVyOyBvdGhlckFjYy5yZXF1aXJlZCA9IGlzT3RoZXI7CiAgICAgIGFTZWwuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaW52YWxpZCcpOwogICAgfTsKCiAgICBhbXRJbnAub25pbnB1dCA9ICgpID0+IHsgdXBkYXRlR3JhbmRUb3RhbCgpOyBhbXRJbnAuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaW52YWxpZCcpOyB9OwogICAgCiAgICB0U2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB0U2VsLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWludmFsaWQnLCAhdFNlbC52YWx1ZSkpOwogICAgYW10SW5wLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiBhbXRJbnAuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtaW52YWxpZCcsIHBhcnNlRmxvYXQoYW10SW5wLnZhbHVlKSA8PSAwKSk7CgogICAgd3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuYnRuLWRlbC1tb2RlJykub25jbGljayA9ICgpID0+IHsgCiAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYXltZW50LXJvdy13cmFwcGVyJykubGVuZ3RoID4gMSkgeyAKICAgICAgICB3cmFwcGVyLnJlbW92ZSgpOyB0b2dnbGVDYXNoQmxvY2soKTsgdXBkYXRlR3JhbmRUb3RhbCgpOyAKICAgICAgfQogICAgfTsKCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGF5bWVudENvbnRhaW5lcicpLmFwcGVuZENoaWxkKHdyYXBwZXIpOwogICAgaWYoaW5pdGlhbCkgewogICAgICB0U2VsLnZhbHVlID0gaW5pdGlhbC50eXBlOyB0U2VsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnKSk7CiAgICAgIGlmKGluaXRpYWwuYWNjID09PSAnT3RoZXInIHx8ICFBcnJheS5mcm9tKGFTZWwub3B0aW9ucykuc29tZShvID0+IG8udmFsdWUgPT09IGluaXRpYWwuYWNjKSkgewogICAgICAgICAgYVNlbC52YWx1ZSA9ICdPdGhlcic7CiAgICAgICAgICBvdGhlckFjYy52YWx1ZSA9IGluaXRpYWwuYWNjOwogICAgICB9IGVsc2UgewogICAgICAgICAgYVNlbC52YWx1ZSA9IGluaXRpYWwuYWNjOwogICAgICB9CiAgICAgIGFTZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScpKTsKICAgICAgYW10SW5wLnZhbHVlID0gaW5pdGlhbC5hbXQ7CiAgICB9CiAgfQoKICBmdW5jdGlvbiB0b2dnbGVDYXNoQmxvY2soKSB7CiAgICBjb25zdCBoYXNDYXNoID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucm93LXR5cGUnKSkuc29tZShzID0+IHMudmFsdWUgPT09ICdjYXNoJyk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FzaEJsb2NrJykuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgIWhhc0Nhc2gpOwogIH0KCiAgZnVuY3Rpb24gcmVjYWxjQ2FzaCgpIHsKICAgIGxldCB0b3QgPSAwOwogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRlbm9tLWlucHV0JykuZm9yRWFjaChpID0+IHRvdCArPSAoaS52YWx1ZSB8fCAwKSAqIGkuZGF0YXNldC52YWwpOwogICAgCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGF5bWVudC1yb3ctd3JhcHBlcicpLmZvckVhY2godyA9PiB7CiAgICAgIGNvbnN0IHR5cGUgPSB3LnF1ZXJ5U2VsZWN0b3IoJy5yb3ctdHlwZScpLnZhbHVlOwogICAgICBjb25zdCBhbXRJbnAgPSB3LnF1ZXJ5U2VsZWN0b3IoJy5yb3ctYW10Jyk7CiAgICAgIAogICAgICBpZih0eXBlID09PSAnY2FzaCcpIHsKICAgICAgICBhbXRJbnAudmFsdWUgPSB0b3QgfHwgIiI7CiAgICAgICAgY29uc3QgY2FzaEJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXNoQmxvY2snKTsKICAgICAgICBpZiAodG90ID4gMCkgewogICAgICAgICAgY2FzaEJveC5zdHlsZS5ib3JkZXJDb2xvciA9ICJ2YXIoLS1wcmltYXJ5KSI7CiAgICAgICAgICBhbXRJbnAuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaW52YWxpZCcpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjYXNoQm94LnN0eWxlLmJvcmRlckNvbG9yID0gInZhcigtLWRhbmdlcikiOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICB1cGRhdGVHcmFuZFRvdGFsKCk7CiAgfQoKICBmdW5jdGlvbiB1cGRhdGVHcmFuZFRvdGFsKCkgewogICAgbGV0IHRvdGFsID0gMDsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yb3ctYW10JykuZm9yRWFjaChpID0+IHRvdGFsICs9IHBhcnNlRmxvYXQoaS52YWx1ZSkgfHwgMCk7CiAgICBjb25zdCBkaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyYW5kVG90YWwnKTsKICAgIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluU3VibWl0QnRuJyk7CiAgICAKICAgIGRpc3BsYXkudGV4dENvbnRlbnQgPSBg4oK5JHt0b3RhbC50b0ZpeGVkKDIpfWA7CiAgICAKICAgIGlmICh0b3RhbCA+IDApIHsKICAgICAgZGlzcGxheS5zdHlsZS5jb2xvciA9ICJ2YXIoLS1wcmltYXJ5KSI7CiAgICAgIHN1Ym1pdEJ0bi5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgfSBlbHNlIHsKICAgICAgZGlzcGxheS5zdHlsZS5jb2xvciA9ICJ2YXIoLS1kYW5nZXIpIjsKICAgICAgc3VibWl0QnRuLnN0eWxlLm9wYWNpdHkgPSAiMC41IjsKICAgIH0KICB9CgogIGRlbm9tcy5mb3JFYWNoKGQgPT4gewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nhc2hHcmlkJykuaW5uZXJIVE1MICs9IGA8ZGl2IGNsYXNzPSJkZW5vbS1jYXJkIj48c3Bhbj7igrkke2R9PC9zcGFuPjxpbnB1dCB0eXBlPSJudW1iZXIiIGRhdGEtdmFsPSIke2R9IiBjbGFzcz0iZGVub20taW5wdXQiIHBsYWNlaG9sZGVyPSIwIiBvbmlucHV0PSJyZWNhbGNDYXNoKCkiPjwvZGl2PmA7CiAgfSk7CgogIGZ1bmN0aW9uIHRvZ2dsZVNtYXJ0T3RoZXIoc2VsLCBvdGhlcklkLCBwYXJlbnRJZCkgewogICAgY29uc3QgaXNPdGhlciA9IHNlbC52YWx1ZSA9PT0gIk90aGVyIjsKICAgIGNvbnN0IG90aGVySW5wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob3RoZXJJZCk7CiAgICBjb25zdCBwYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXJlbnRJZCk7CiAgICAKICAgIG90aGVySW5wLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicsICFpc090aGVyKTsKICAgIG90aGVySW5wLmRpc2FibGVkID0gIWlzT3RoZXI7IAogICAgb3RoZXJJbnAucmVxdWlyZWQgPSBpc090aGVyOwogICAgcGFyZW50LmNsYXNzTGlzdC50b2dnbGUoJ2hhcy1vdGhlcicsIGlzT3RoZXIpOwogICAgCiAgICBpZihpc090aGVyKSBvdGhlcklucC5mb2N1cygpOwogICAgc2VsLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWludmFsaWQnKTsKICB9CgogIGxvYW5Gb3JtLm9uc3VibWl0ID0gZnVuY3Rpb24oZSkgewogICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgbGV0IGN1c3RvbVZhbGlkID0gdHJ1ZTsKICAgIGNvbnN0IGdUb3RhbFN0ciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmFuZFRvdGFsJykudGV4dENvbnRlbnQ7CiAgICBjb25zdCBncmFuZFRvdGFsID0gcGFyc2VGbG9hdChnVG90YWxTdHIucmVwbGFjZSgn4oK5JywnJykpOwogICAgCiAgICBjb25zdCBoYXNDYXNoID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucm93LXR5cGUnKSkuc29tZShzID0+IHMudmFsdWUgPT09ICdjYXNoJyk7CiAgICBpZiAoaGFzQ2FzaCkgewogICAgICBsZXQgY2FzaFRvdGFsID0gMDsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRlbm9tLWlucHV0JykuZm9yRWFjaChpID0+IGNhc2hUb3RhbCArPSAoaS52YWx1ZSB8fCAwKSAqIGkuZGF0YXNldC52YWwpOwogICAgICBpZiAoY2FzaFRvdGFsIDw9IDApIHsKICAgICAgICBhbGVydCgiUGxlYXNlIGVudGVyIGRlbm9taW5hdGlvbnMgZm9yIENhc2ggcGF5bWVudC4iKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FzaEJsb2NrJykuc3R5bGUuYm9yZGVyQ29sb3IgPSAidmFyKC0tZGFuZ2VyKSI7CiAgICAgICAgY3VzdG9tVmFsaWQgPSBmYWxzZTsKICAgICAgfQogICAgfQoKICAgIGlmKGdyYW5kVG90YWwgPD0gMCkgeyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucm93LWFtdCcpLmZvckVhY2goaSA9PiBpLmNsYXNzTGlzdC5hZGQoJ2lzLWludmFsaWQnKSk7IGN1c3RvbVZhbGlkID0gZmFsc2U7IH0KICAgIAogICAgbG9hbkZvcm0uY2xhc3NMaXN0LmFkZCgnd2FzLXZhbGlkYXRlZCcpOwogICAgaWYgKCFsb2FuRm9ybS5jaGVja1ZhbGlkaXR5KCkgfHwgIWN1c3RvbVZhbGlkKSByZXR1cm47CgogICAgY29uc3QgaXNPbmxpbmUgPSBuYXZpZ2F0b3Iub25MaW5lOwogICAgY29uc3QgaXNCYXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJiYXRjaFRvZ2dsZSIpLmNoZWNrZWQ7CgogICAgY29uc3QgYkZpbmFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JvcnJvd2VyJykudmFsdWUgPT09ICJPdGhlciIgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm9ycm93ZXJfb3RoZXInKS52YWx1ZSA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3Jyb3dlcicpLnZhbHVlOwogICAgY29uc3QgdHlwZUZpbmFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RydHlwZScpLnZhbHVlID09PSAibG9hbl9naXZlbiIgPyAiTG9hbiBHaXZlbiIgOiAiTG9hbiBSZWNlaXZlZCI7CgogICAgY29uc3QgZGV0YWlsc0h0bWwgPSBgCiAgICAgIDxkaXYgY2xhc3M9ImNvbmZpcm0taXRlbSI+PHNwYW4gY2xhc3M9ImNvbmZpcm0tbGFiZWwiPkRhdGU8L3NwYW4+PHNwYW4gY2xhc3M9ImNvbmZpcm0tdmFsIj4ke2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJykudmFsdWV9PC9zcGFuPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJjb25maXJtLWl0ZW0iPjxzcGFuIGNsYXNzPSJjb25maXJtLWxhYmVsIj5Cb3Jyb3dlcjwvc3Bhbj48c3BhbiBjbGFzcz0iY29uZmlybS12YWwiPiR7YkZpbmFsfTwvc3Bhbj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iY29uZmlybS1pdGVtIj48c3BhbiBjbGFzcz0iY29uZmlybS1sYWJlbCI+TmFycmF0aW9uPC9zcGFuPjxzcGFuIGNsYXNzPSJjb25maXJtLXZhbCI+JHtkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFycmF0aW9uJykudmFsdWV9PC9zcGFuPjwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJjb25maXJtLWl0ZW0iPjxzcGFuIGNsYXNzPSJjb25maXJtLWxhYmVsIj5JbnZvaWNlPC9zcGFuPjxzcGFuIGNsYXNzPSJjb25maXJtLXZhbCI+JHtkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW52b2ljZScpLnZhbHVlIHx8ICdOL0EnfTwvc3Bhbj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iY29uZmlybS1pdGVtIj48c3BhbiBjbGFzcz0iY29uZmlybS1sYWJlbCI+VHlwZTwvc3Bhbj48c3BhbiBjbGFzcz0iY29uZmlybS12YWwiPiR7dHlwZUZpbmFsfTwvc3Bhbj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iY29uZmlybS1pdGVtIiBzdHlsZT0iYm9yZGVyOm5vbmUiPjxzcGFuIGNsYXNzPSJjb25maXJtLWxhYmVsIiBzdHlsZT0iY29sb3I6dmFyKC0tcHJpbWFyeSkiPkdyYW5kIFRvdGFsPC9zcGFuPjxzcGFuIGNsYXNzPSJjb25maXJtLXZhbCIgc3R5bGU9ImNvbG9yOnZhcigtLXByaW1hcnkpOyBmb250LXdlaWdodDpib2xkIj4ke2dUb3RhbFN0cn08L3NwYW4+PC9kaXY+CiAgICAgIAogICAgICA8ZGl2IGNsYXNzPSJjb25maXJtLXNlY3Rpb24tdGl0bGUiPlBheW1lbnRzPC9kaXY+CiAgICAgICR7QXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGF5bWVudC1yb3ctd3JhcHBlcicpKS5tYXAocm93ID0+IHsKICAgICAgICBjb25zdCB0eXBlID0gcm93LnF1ZXJ5U2VsZWN0b3IoJy5yb3ctdHlwZScpLnZhbHVlOwogICAgICAgIGNvbnN0IGFjYyA9IHJvdy5xdWVyeVNlbGVjdG9yKCcucm93LWFjYycpLnZhbHVlID09PSAnT3RoZXInID8gcm93LnF1ZXJ5U2VsZWN0b3IoJy5yb3ctYWNjLW90aGVyJykudmFsdWUgOiByb3cucXVlcnlTZWxlY3RvcignLnJvdy1hY2MnKS52YWx1ZTsKICAgICAgICBjb25zdCBhbXQgPSByb3cucXVlcnlTZWxlY3RvcignLnJvdy1hbXQnKS52YWx1ZTsKICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9ImNvbmZpcm0taXRlbSI+PHNwYW4gY2xhc3M9ImNvbmZpcm0tbGFiZWwiPiR7dHlwZX0gKCR7YWNjfSk8L3NwYW4+PHNwYW4gY2xhc3M9ImNvbmZpcm0tdmFsIj7igrkke2FtdH08L3NwYW4+PC9kaXY+YDsKICAgICAgfSkuam9pbignJyl9CgogICAgICAke2hhc0Nhc2ggPyBgCiAgICAgICAgPGRpdiBjbGFzcz0iY29uZmlybS1zZWN0aW9uLXRpdGxlIj5DYXNoIE1hdHJpeDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImRlbm9tLWdyaWQiIHN0eWxlPSJtYXJnaW4tdG9wOiA4cHg7Ij4KICAgICAgICAgICR7QXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGVub20taW5wdXQnKSkubWFwKGkgPT4gYAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb25maXJtLW1hdHJpeC1jYXJkIj4KICAgICAgICAgICAgICA8c3Bhbj7igrkke2kuZGF0YXNldC52YWx9PC9zcGFuPgogICAgICAgICAgICAgIDxzdHJvbmcgc3R5bGU9ImZvbnQtc2l6ZTogMTFweDsiPiR7aS52YWx1ZSB8fCAwfTwvc3Ryb25nPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIGApLmpvaW4oJycpfQogICAgICAgIDwvZGl2PgogICAgICBgIDogJyd9CiAgICBgOwoKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtRGV0YWlscycpLmlubmVySFRNTCA9IGRldGFpbHNIdG1sOwoKICAgIGN1cnJlbnRQYXlsb2FkcyA9IFtdOwogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBheW1lbnQtcm93LXdyYXBwZXInKS5mb3JFYWNoKHJvdyA9PiB7CiAgICAgIGNvbnN0IHR5cGUgPSByb3cucXVlcnlTZWxlY3RvcignLnJvdy10eXBlJykudmFsdWU7CiAgICAgIGNvbnN0IGFjYyA9IHJvdy5xdWVyeVNlbGVjdG9yKCcucm93LWFjYycpLnZhbHVlOwogICAgICBjb25zdCBhbXQgPSByb3cucXVlcnlTZWxlY3RvcignLnJvdy1hbXQnKS52YWx1ZTsKICAgICAgY29uc3QgcCA9IHsKICAgICAgICBkYXRlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZScpLnZhbHVlLAogICAgICAgIGJvcnJvd2VyOiBiRmluYWwsCiAgICAgICAgbmFycmF0aW9uOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFycmF0aW9uJykudmFsdWUsCiAgICAgICAgaW52b2ljZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludm9pY2UnKS52YWx1ZSwKICAgICAgICB0cnR5cGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0cnR5cGUnKS52YWx1ZSwKICAgICAgICBtb2RlOiB0eXBlLAogICAgICAgIGFjY291bnQ6IGFjYyA9PT0gJ090aGVyJyA/IHJvdy5xdWVyeVNlbGVjdG9yKCcucm93LWFjYy1vdGhlcicpLnZhbHVlIDogYWNjLAogICAgICAgIHdpdGhkcmF3bjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RydHlwZScpLnZhbHVlID09PSAibG9hbl9naXZlbiIgPyBhbXQgOiAwLAogICAgICAgIGRlcG9zaXQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0cnR5cGUnKS52YWx1ZSA9PT0gImxvYW5fcmVjZWl2ZWQiID8gYW10IDogMAogICAgICB9OwogICAgICBpZih0eXBlID09PSAnY2FzaCcpIGRlbm9tcy5mb3JFYWNoKGQgPT4gcFsiYyIrZF0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBpbnB1dFtkYXRhLXZhbD0iJHtkfSJdYCkudmFsdWUpOwogICAgICBjdXJyZW50UGF5bG9hZHMucHVzaChwKTsKICAgIH0pOwoKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJsYXN0TG9hbkVudHJ5IiwgSlNPTi5zdHJpbmdpZnkoY3VycmVudFBheWxvYWRzKSk7CgogICAgaWYgKGlzQmF0Y2ggfHwgIWlzT25saW5lKSB7CiAgICAgIGFsZXJ0KCFpc09ubGluZSA/ICJPZmZsaW5lOiBTYXZlZCB0byBxdWV1ZS4iIDogIkJhdGNoIE1vZGU6IEFkZGVkIHRvIHF1ZXVlLiIpOwogICAgICBzYXZlVG9EQigpOwogICAgfSBlbHNlIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm1Nb2RhbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgfQogIH07CgogIGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NTYXZlKCkgewogICAgaWYgKGlzU3VibWl0dGluZykgcmV0dXJuOwogICAgCiAgICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpblN1Ym1pdEJ0bicpOwogICAgY29uc3QgY29uZmlybU1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm1Nb2RhbCcpOwogICAgCiAgICBjb25maXJtTW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICBpc1N1Ym1pdHRpbmcgPSB0cnVlOwogICAgYnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgIGJ0bi50ZXh0Q29udGVudCA9ICJTYXZpbmcgdG8gU2hlZXRzLi4uIjsKICAgIGJ0bi5zdHlsZS5vcGFjaXR5ID0gIjAuNyI7CiAgICBidG4uc3R5bGUuY3Vyc29yID0gIm5vdC1hbGxvd2VkIjsKCiAgICB0cnkgewogICAgICBmb3IgKGxldCBwIG9mIGN1cnJlbnRQYXlsb2FkcykgewogICAgICAgIGF3YWl0IGZldGNoKFNDUklQVF9VUkwsIHsgCiAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwgCiAgICAgICAgICBtb2RlOiAibm8tY29ycyIsIAogICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocCkgCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgYWxlcnQoIkxvYW4gU2F2ZWQgT25saW5lISIpOyAKICAgICAgcmVzZXRGb3JtKCk7CiAgICB9IGNhdGNoIChlcnIpIHsgCiAgICAgIHNhdmVUb0RCKCk7CiAgICAgIGFsZXJ0KCJOZXR3b3JrIGlzc3VlLiBBZGRlZCB0byBRdWV1ZSBmb3IgbGF0ZXIgc3luYy4iKTsgCiAgICB9IGZpbmFsbHkgeyAKICAgICAgaXNTdWJtaXR0aW5nID0gZmFsc2U7CiAgICAgIGJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICBidG4udGV4dENvbnRlbnQgPSAiU2F2ZSBMb2FuIjsKICAgICAgYnRuLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgIGJ0bi5zdHlsZS5jdXJzb3IgPSAicG9pbnRlciI7CiAgICAgIHVwZGF0ZVBlbmRpbmdDb3VudCgpOyAKICAgIH0KICB9CgogIGZ1bmN0aW9uIHNhdmVUb0RCKCkgewogICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihTVE9SRV9OQU1FLCAicmVhZHdyaXRlIik7CiAgICBjdXJyZW50UGF5bG9hZHMuZm9yRWFjaChwID0+IHR4Lm9iamVjdFN0b3JlKFNUT1JFX05BTUUpLmFkZChwKSk7CiAgICB0eC5vbmNvbXBsZXRlID0gKCkgPT4geyByZXNldEZvcm0oKTsgdXBkYXRlUGVuZGluZ0NvdW50KCk7IH07CiAgfQoKICBhc3luYyBmdW5jdGlvbiBzeW5jQWxsRGF0YSgpIHsKICAgIGlmICghbmF2aWdhdG9yLm9uTGluZSkgeyBhbGVydCgiTm8gSW50ZXJuZXQgQ29ubmVjdGlvbiIpOyByZXR1cm47IH0KICAgIGlmICghY29uZmlybSgiU3RhcnQgc3luY2luZyBhbGwgcGVuZGluZyBpdGVtcz8iKSkgcmV0dXJuOwoKICAgIGNvbnN0IHN5bmNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnRuU3luY0FsbCIpOwogICAgY29uc3Qgc3RvcEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidG5TdG9wU3luYyIpOwogICAgCiAgICBzeW5jQWJvcnRlZCA9IGZhbHNlOwogICAgc3luY0J0bi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgIHN0b3BCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CgogICAgY29uc3QgaXRlbXMgPSBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gewogICAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKFNUT1JFX05BTUUsICJyZWFkb25seSIpOwogICAgICB0eC5vYmplY3RTdG9yZShTVE9SRV9OQU1FKS5nZXRBbGwoKS5vbnN1Y2Nlc3MgPSBlID0+IHJlcyhlLnRhcmdldC5yZXN1bHQpOwogICAgfSk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykgewogICAgICBpZihzeW5jQWJvcnRlZCkgYnJlYWs7CgogICAgICBzdG9wQnRuLnRleHRDb250ZW50ID0gYPCfm5EgU3RvcCBTeW5jaW5nICgke2krMX0vJHtpdGVtcy5sZW5ndGh9KWA7CiAgICAgIAogICAgICB0cnkgewogICAgICAgIGF3YWl0IGZldGNoKFNDUklQVF9VUkwsIHsgbWV0aG9kOiAiUE9TVCIsIG1vZGU6ICJuby1jb3JzIiwgYm9keTogSlNPTi5zdHJpbmdpZnkoaXRlbXNbaV0pIH0pOwogICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiB7CiAgICAgICAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKFNUT1JFX05BTUUsICJyZWFkd3JpdGUiKTsKICAgICAgICAgIHR4Lm9iamVjdFN0b3JlKFNUT1JFX05BTUUpLmRlbGV0ZShpdGVtc1tpXS5pZCkub25zdWNjZXNzID0gKCkgPT4gcmVzKCk7CiAgICAgICAgfSk7CiAgICAgICAgdXBkYXRlUGVuZGluZ0NvdW50KCk7CiAgICAgIH0gY2F0Y2ggKGVycikgeyAKICAgICAgICBhbGVydCgiU3luYyBpbnRlcnJ1cHRlZCBieSBuZXR3b3JrIGVycm9yLiIpOwogICAgICAgIGJyZWFrOyAKICAgICAgfQogICAgfQogICAgCiAgICBzdG9wQnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgc3RvcEJ0bi50ZXh0Q29udGVudCA9ICLwn5uRIFN0b3AgU3luYyI7CiAgICBzeW5jQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgaWYoc3luY0Fib3J0ZWQpIGFsZXJ0KCJTeW5jIHN0b3BwZWQgbWFudWFsbHkuIik7CiAgfQoKICBmdW5jdGlvbiByZXNldEZvcm0oKSB7CiAgICBjb25zdCBpc0JhdGNoQWN0aXZlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJhdGNoVG9nZ2xlIikuY2hlY2tlZDsKICAgIAogICAgbG9hbkZvcm0ucmVzZXQoKTsKICAgIGxvYW5Gb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ3dhcy12YWxpZGF0ZWQnKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXltZW50Q29udGFpbmVyJykuaW5uZXJIVE1MID0gIiI7CiAgICBjcmVhdGVQYXltZW50Um93KCk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGF0ZSIpLnZhbHVlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCJUIilbMF07CiAgICB1cGRhdGVHcmFuZFRvdGFsKCk7IHRvZ2dsZUNhc2hCbG9jaygpOwogICAgCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmF0Y2hUb2dnbGUiKS5jaGVja2VkID0gaXNCYXRjaEFjdGl2ZTsKICAgIAogICAgLy8gUmVzZXQgQm9ycm93ZXIgc21hcnQgcm93IGxheW91dAogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JvcnJvd2VyU21hcnRSb3cnKS5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtb3RoZXInKTsKICB9CgogIGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVBlbmRpbmdDb3VudCgpewogICAgaWYoIWRiKSByZXR1cm47CiAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKFNUT1JFX05BTUUpLm9iamVjdFN0b3JlKFNUT1JFX05BTUUpLmdldEFsbCgpOwogICAgdHgub25zdWNjZXNzID0gKCkgPT4gewogICAgICBjb25zdCBpdGVtcyA9IHR4LnJlc3VsdDsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN5bmNDb3VudCIpLnRleHRDb250ZW50ID0gYCgke2l0ZW1zLmxlbmd0aH0pYDsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvb3RlclN5bmMiKS5jbGFzc0xpc3QudG9nZ2xlKCJoaWRkZW4iLCBpdGVtcy5sZW5ndGggPT09IDApOwogICAgICByZW5kZXJRdWV1ZVRhYmxlKGl0ZW1zKTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiByZW5kZXJRdWV1ZVRhYmxlKGl0ZW1zKSB7CiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXVlVGFibGVCb2R5Iik7CiAgICBib2R5LmlubmVySFRNTCA9ICIiOwogICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICBjb25zdCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgIGNvbnN0IGFtdCA9IGl0ZW0udHJ0eXBlID09PSAibG9hbl9naXZlbiIgPyBpdGVtLndpdGhkcmF3biA6IGl0ZW0uZGVwb3NpdDsKICAgICAgdHIuaW5uZXJIVE1MID0gYAogICAgICAgIDx0ZCBzdHlsZT0icGFkZGluZzo4cHgiPiR7aXRlbS5kYXRlfTwvdGQ+CiAgICAgICAgPHRkPiR7aXRlbS5ib3Jyb3dlcn08L3RkPgogICAgICAgIDx0ZD4ke2l0ZW0ubmFycmF0aW9ufTwvdGQ+CiAgICAgICAgPHRkPiR7aXRlbS5tb2RlfSAoJHtpdGVtLmFjY291bnR9KTwvdGQ+CiAgICAgICAgPHRkIHN0eWxlPSJmb250LXdlaWdodDo3MDAiPuKCuSR7YW10fTwvdGQ+CiAgICAgICAgPHRkPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4tYWN0aW9uIiBvbmNsaWNrPSJlZGl0SXRlbSgke2l0ZW0uaWR9KSI+4pyP77iPPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0bi1hY3Rpb24iIG9uY2xpY2s9ImRlbGV0ZUl0ZW0oJHtpdGVtLmlkfSkiPvCfl5HvuI88L2J1dHRvbj4KICAgICAgICA8L3RkPmA7CiAgICAgIGJvZHkuYXBwZW5kQ2hpbGQodHIpOwogICAgfSk7CiAgfQoKICB3aW5kb3cuZGVsZXRlSXRlbSA9IGlkID0+IHsKICAgIGlmKCFjb25maXJtKCJEZWxldGUgdGhpcyBpdGVtPyIpKSByZXR1cm47CiAgICBkYi50cmFuc2FjdGlvbihTVE9SRV9OQU1FLCJyZWFkd3JpdGUiKS5vYmplY3RTdG9yZShTVE9SRV9OQU1FKS5kZWxldGUoaWQpLm9uc3VjY2VzcyA9IHVwZGF0ZVBlbmRpbmdDb3VudDsKICB9OwoKICB3aW5kb3cuZWRpdEl0ZW0gPSBpZCA9PiB7CiAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKFNUT1JFX05BTUUsICJyZWFkb25seSIpLm9iamVjdFN0b3JlKFNUT1JFX05BTUUpLmdldChpZCk7CiAgICB0eC5vbnN1Y2Nlc3MgPSAoKSA9PiB7CiAgICAgIGNvbnN0IHAgPSB0eC5yZXN1bHQ7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXltZW50Q29udGFpbmVyJykuaW5uZXJIVE1MID0gIiI7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJykudmFsdWUgPSBwLmRhdGU7CiAgICAgIAogICAgICBjb25zdCBiU2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JvcnJvd2VyJyk7CiAgICAgIGlmKEFycmF5LmZyb20oYlNlbC5vcHRpb25zKS5zb21lKG8gPT4gby52YWx1ZSA9PT0gcC5ib3Jyb3dlcikpIGJTZWwudmFsdWUgPSBwLmJvcnJvd2VyOwogICAgICBlbHNlIHsgYlNlbC52YWx1ZSA9ICdPdGhlcic7IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3Jyb3dlcl9vdGhlcicpLnZhbHVlID0gcC5ib3Jyb3dlcjsgfQogICAgICB0b2dnbGVTbWFydE90aGVyKGJTZWwsICdib3Jyb3dlcl9vdGhlcicsICdib3Jyb3dlclNtYXJ0Um93Jyk7CgogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFycmF0aW9uJykudmFsdWUgPSBwLm5hcnJhdGlvbjsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludm9pY2UnKS52YWx1ZSA9IHAuaW52b2ljZTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RydHlwZScpLnZhbHVlID0gcC50cnR5cGU7CiAgICAgIAogICAgICBjcmVhdGVQYXltZW50Um93KHsgdHlwZTogcC5tb2RlLCBhY2M6IHAuYWNjb3VudCwgYW10OiBwLndpdGhkcmF3biB8fCBwLmRlcG9zaXQgfSk7CiAgICAgIAogICAgICBpZihwLm1vZGUgPT09ICdjYXNoJykgewogICAgICAgICAgZGVub21zLmZvckVhY2goZCA9PiB7CiAgICAgICAgICAgICAgY29uc3QgaW5wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmRlbm9tLWlucHV0W2RhdGEtdmFsPSIke2R9Il1gKTsKICAgICAgICAgICAgICBpZihwWyJjIitkXSkgaW5wLnZhbHVlID0gcFsiYyIrZF07CiAgICAgICAgICB9KTsKICAgICAgICAgIHRvZ2dsZUNhc2hCbG9jaygpOwogICAgICB9CiAgICAgIAogICAgICB1cGRhdGVHcmFuZFRvdGFsKCk7CiAgICAgIGRiLnRyYW5zYWN0aW9uKFNUT1JFX05BTUUsICJyZWFkd3JpdGUiKS5vYmplY3RTdG9yZShTVE9SRV9OQU1FKS5kZWxldGUoaWQpLm9uc3VjY2VzcyA9ICgpID0+IHsKICAgICAgICAgIHVwZGF0ZVBlbmRpbmdDb3VudCgpOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1ZXVlTW9kYWwnKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgfTsKICAgIH07CiAgfTsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ0blJlcGVhdCIpLm9uY2xpY2sgPSAoKSA9PiB7CiAgICBjb25zdCBsYXN0RGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJsYXN0TG9hbkVudHJ5Iik7CiAgICBpZiAoIWxhc3REYXRhKSB7CiAgICAgICAgYWxlcnQoIk5vIHJlY2VudCBsb2FuIHRyYW5zYWN0aW9ucyBmb3VuZCB0byByZXBlYXQuIik7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbGFzdCA9IEpTT04ucGFyc2UobGFzdERhdGEpOwogICAgaWYgKCFsYXN0IHx8IGxhc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgYWxlcnQoIlJlY2VudCB0cmFuc2FjdGlvbiBoaXN0b3J5IGlzIGVtcHR5LiIpOwogICAgICAgIHJldHVybjsgCiAgICB9CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGF5bWVudENvbnRhaW5lcicpLmlubmVySFRNTCA9ICIiOwogICAgbGFzdC5mb3JFYWNoKChwLCBpKSA9PiB7CiAgICAgICAgaWYgKGkgPT09IDApIHsKICAgICAgICAgICAgY29uc3QgYlNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3Jyb3dlcicpOwogICAgICAgICAgICBpZiAoQXJyYXkuZnJvbShiU2VsLm9wdGlvbnMpLnNvbWUobyA9PiBvLnZhbHVlID09PSBwLmJvcnJvd2VyKSkgewogICAgICAgICAgICAgICAgYlNlbC52YWx1ZSA9IHAuYm9ycm93ZXI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBiU2VsLnZhbHVlID0gJ090aGVyJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3Jyb3dlcl9vdGhlcicpLnZhbHVlID0gcC5ib3Jyb3dlcjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0b2dnbGVTbWFydE90aGVyKGJTZWwsICdib3Jyb3dlcl9vdGhlcicsICdib3Jyb3dlclNtYXJ0Um93Jyk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYXJyYXRpb24nKS52YWx1ZSA9IHAubmFycmF0aW9uOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJ0eXBlJykudmFsdWUgPSBwLnRydHlwZTsKICAgICAgICB9CiAgICAgICAgY3JlYXRlUGF5bWVudFJvdyh7IHR5cGU6IHAubW9kZSwgYWNjOiBwLmFjY291bnQsIGFtdDogcC53aXRoZHJhd24gfHwgcC5kZXBvc2l0IH0pOwogICAgfSk7CiAgICB1cGRhdGVHcmFuZFRvdGFsKCk7CiAgfTsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ0bkFkZE1vZGUiKS5vbmNsaWNrID0gKCkgPT4gY3JlYXRlUGF5bWVudFJvdygpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidG5TeW5jQWxsIikub25jbGljayA9IHN5bmNBbGxEYXRhOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidG5TdG9wU3luYyIpLm9uY2xpY2sgPSAoKSA9PiB7IHN5bmNBYm9ydGVkID0gdHJ1ZTsgfTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnRuVmlld1F1ZXVlIikub25jbGljayA9ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWV1ZU1vZGFsIikuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRoZW1lVG9nZ2xlIikub25jbGljayA9ICgpID0+IHsKICAgIGNvbnN0IGlzRGFyayA9IGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgiZGFyayIpOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRoZW1lVG9nZ2xlIikudGV4dENvbnRlbnQgPSBpc0RhcmsgPyAi4piA77iPIiA6ICLwn4yZIjsKICB9OwogIAogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidG5Db25maXJtRmluYWwiKS5vbmNsaWNrID0gcHJvY2Vzc1NhdmU7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ0bkNvbmZpcm1DYW5jZWwiKS5vbmNsaWNrID0gKCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm1Nb2RhbCcpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwoKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGF0ZSIpLnZhbHVlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCJUIilbMF07CiAgY3JlYXRlUGF5bWVudFJvdygpOwo8L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+Cg==",
      f3: "PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CjxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KPHRpdGxlPlNlbGYgVHJhbnNmZXIgfCBTbWFydCBTeW5jIFBybzwvdGl0bGU+CjxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wIj4KCjxzdHlsZT4KQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9SW50ZXI6d2dodEA0MDA7NTAwOzYwMCZkaXNwbGF5PXN3YXAnKTsKCjpyb290IHsgCiAgLS1wcmltYXJ5OiMyNTYzZWI7IAogIC0tcHJpbWFyeS1ob3ZlcjojMWU0MGFmOyAKICAtLXNlY29uZGFyeTogIzEwYjk4MTsKICAtLWRhbmdlcjojZWY0NDQ0OyAKICAtLWJnLWJvZHk6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNlZWYyZjcsICNmOWZhZmIpOwogIC0tYmctY2FyZDogI2ZmZmZmZjsKICAtLXRleHQtbWFpbjogIzExMTgyNzsKICAtLXRleHQtbGFiZWw6ICMzNzQxNTE7CiAgLS1ib3JkZXItY29sb3I6ICNkMWQ1ZGI7CiAgLS1iZy1pbnB1dDogI2ZmZmZmZjsKICAtLWJ0bi1oOiA0NHB4OyAKfQoKYm9keS5kYXJrIHsgCiAgLS1iZy1ib2R5OiAjMDIwNjE3OyAKICAtLWJnLWNhcmQ6ICMwZjE3MmE7CiAgLS10ZXh0LW1haW46ICNmOWZhZmI7CiAgLS10ZXh0LWxhYmVsOiAjOTRhM2I4OwogIC0tYm9yZGVyLWNvbG9yOiAjMzM0MTU1OwogIC0tYmctaW5wdXQ6ICMxZTI5M2I7Cn0KCmJvZHkgewogIGZvbnQtZmFtaWx5OiAnSW50ZXInLCBzYW5zLXNlcmlmOwogIGJhY2tncm91bmQ6IHZhcigtLWJnLWJvZHkpOwogIGNvbG9yOiB2YXIoLS10ZXh0LW1haW4pOwogIHBhZGRpbmc6IDIwcHg7IG1hcmdpbjogMDsgbWluLWhlaWdodDogMTAwdmg7CiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjNzOwp9Cgpmb3JtLCAuY29uZmlybS1jYXJkIHsKICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1jYXJkKTsgbWF4LXdpZHRoOiA0NDBweDsgbWFyZ2luOiBhdXRvOyBwYWRkaW5nOiAyMnB4OwogIGJvcmRlci1yYWRpdXM6IDE2cHg7IGJveC1zaGFkb3c6IDAgMThweCA0MHB4IHJnYmEoMCwwLDAsLjA4KTsKICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQoKLmNvbmZpcm0tY2FyZCB7IG1heC13aWR0aDogNTUwcHg7IHdpZHRoOiA5NSU7IH0KCi5oZWFkZXItcm93LXRvcCB7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBtYXJnaW4tYm90dG9tOiAyMHB4Owp9CgpoMiB7IG1hcmdpbjogMDsgZm9udC13ZWlnaHQ6IDYwMDsgY29sb3I6IHZhcigtLXRleHQtbWFpbik7IGZvbnQtc2l6ZTogMjBweDsgZmxleC1ncm93OiAxOyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KCiNzdGF0dXNEb3QgeyAKICB3aWR0aDogMTJweDsgaGVpZ2h0OiAxMnB4OyAKICBib3JkZXItcmFkaXVzOiA1MCU7IAogIGJhY2tncm91bmQ6ICM5NGEzYjg7IAogIGZsZXgtc2hyaW5rOiAwOwogIHRyYW5zaXRpb246IDAuM3M7Cn0KI3N0YXR1c0RvdC5vbmxpbmUgeyBiYWNrZ3JvdW5kOiAjMTBiOTgxOyBib3gtc2hhZG93OiAwIDAgMTBweCAjMTBiOTgxOyB9CiNzdGF0dXNEb3Qub2ZmbGluZSB7IGJhY2tncm91bmQ6IHZhcigtLWRhbmdlcik7IGJveC1zaGFkb3c6IDAgMCAxMHB4IHZhcigtLWRhbmdlcik7IH0KCiN0aGVtZVRvZ2dsZSB7IAogIHdpZHRoOiAzMnB4OyBoZWlnaHQ6IDMycHg7IAogIGJvcmRlci1yYWRpdXM6IDUwJTsgCiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgCiAgYmFja2dyb3VuZDogdmFyKC0tYmctaW5wdXQpOyAKICBjb2xvcjogdmFyKC0tdGV4dC1tYWluKTsgCiAgY3Vyc29yOiBwb2ludGVyOyAKICBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgCiAgZm9udC1zaXplOiAxNHB4OyBwYWRkaW5nOiAwOyB0cmFuc2l0aW9uOiAwLjJzOyAKICBmbGV4LXNocmluazogMDsKfQoKLmJhdGNoLWNvbnRyb2wgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGJhY2tncm91bmQ6IHJnYmEoMzcsIDk5LCAyMzUsIDAuMSk7IHBhZGRpbmc6IDhweCAxMnB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBtYXJnaW4tYm90dG9tOiAxNXB4OyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1wcmltYXJ5KTsgfQouc3dpdGNoIHsgcG9zaXRpb246IHJlbGF0aXZlOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdpZHRoOiA0MHB4OyBoZWlnaHQ6IDIycHg7IG1hcmdpbi10b3A6MDt9Ci5zd2l0Y2ggaW5wdXQgeyBvcGFjaXR5OiAwOyB3aWR0aDogMDsgaGVpZ2h0OiAwOyB9Ci5zbGlkZXIgeyBwb3NpdGlvbjogYWJzb2x1dGU7IGN1cnNvcjogcG9pbnRlcjsgdG9wOiAwOyBsZWZ0OiAwOyByaWdodDogMDsgYm90dG9tOiAwOyBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjOyB0cmFuc2l0aW9uOiAuNHM7IGJvcmRlci1yYWRpdXM6IDIycHg7IH0KLnNsaWRlcjpiZWZvcmUgeyBwb3NpdGlvbjogYWJzb2x1dGU7IGNvbnRlbnQ6ICIiOyBoZWlnaHQ6IDE2cHg7IHdpZHRoOiAxNnB4OyBsZWZ0OiAzcHg7IGJvdHRvbTogM3B4OyBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsgdHJhbnNpdGlvbjogLjRzOyBib3JkZXItcmFkaXVzOiA1MCU7IH0KaW5wdXQ6Y2hlY2tlZCArIC5zbGlkZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsgfQppbnB1dDpjaGVja2VkICsgLnNsaWRlcjpiZWZvcmUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMThweCk7IH0KCmgzIHsgbWFyZ2luOiAxOHB4IDAgOHB4OyBmb250LXNpemU6IDE0cHg7IGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgbGV0dGVyLXNwYWNpbmc6IDAuMDVlbTsgfQpsYWJlbCB7IGZvbnQtc2l6ZTogMTNweDsgZm9udC13ZWlnaHQ6IDYwMDsgbWFyZ2luLXRvcDogMTRweDsgZGlzcGxheTogYmxvY2s7IGNvbG9yOiB2YXIoLS10ZXh0LWxhYmVsKTsgfQoKaW5wdXQsIHNlbGVjdCwgYnV0dG9uIHsKICB3aWR0aDogMTAwJTsgaGVpZ2h0OiA0NHB4OyBtYXJnaW4tdG9wOiA2cHg7IHBhZGRpbmc6IDAgMTRweDsKICBib3JkZXItcmFkaXVzOiAxMHB4OyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOyBmb250LXNpemU6IDE0cHg7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgYmFja2dyb3VuZDogdmFyKC0tYmctaW5wdXQpOyBjb2xvcjogdmFyKC0tdGV4dC1tYWluKTsKfQoKaW5wdXQ6Zm9jdXMsIHNlbGVjdDpmb2N1cyB7IG91dGxpbmU6IG5vbmU7IGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7IGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDM3LDk5LDIzNSwuMTUpOyB9Cgoud2FzLXZhbGlkYXRlZCBpbnB1dDppbnZhbGlkLCAud2FzLXZhbGlkYXRlZCBzZWxlY3Q6aW52YWxpZCwKaW5wdXQubWFudWFsLWludmFsaWQgeyBib3JkZXItY29sb3I6IHZhcigtLWRhbmdlcik7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjM5LCA2OCwgNjgsIDAuMDUpOyB9Ci5lcnItbXNnIHsgY29sb3I6IHZhcigtLWRhbmdlcik7IGZvbnQtc2l6ZTogMTFweDsgbWFyZ2luLXRvcDogNHB4OyBkaXNwbGF5OiBub25lOyBmb250LXdlaWdodDogNTAwOyB9Ci53YXMtdmFsaWRhdGVkIDppbnZhbGlkIH4gLmVyci1tc2csIC5tYW51YWwtaW52YWxpZCB+IC5lcnItbXNnIHsgZGlzcGxheTogYmxvY2s7IH0KCi5idG4tZ3JvdXAgeyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7IGdhcDogMTJweDsgbWFyZ2luLXRvcDogMjVweDsgfQoKI3N1Ym1pdEJ0biwgLmJ0bi1jb25maXJtLCAjYnRuU3luY0FsbCwgI2J0blZpZXdRdWV1ZSwgI2J0blJlcGVhdCwgLmJ0bi1jYW5jZWwgeyAKICBoZWlnaHQ6IHZhcigtLWJ0bi1oKTsgCiAgZm9udC13ZWlnaHQ6IDYwMDsgCiAgYm9yZGVyLXJhZGl1czogMTBweDsgCiAgZm9udC1zaXplOiAxNHB4OyAKICBjdXJzb3I6IHBvaW50ZXI7IAogIHRyYW5zaXRpb246IDAuMnM7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIHBhZGRpbmc6IDAgMTBweDsKICBtYXJnaW4tdG9wOiAwOwp9Cgojc3VibWl0QnRuLCAuYnRuLWNvbmZpcm0geyBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5KTsgY29sb3I6ICNmZmY7IGJvcmRlcjogbm9uZTsgfQojc3VibWl0QnRuOmhvdmVyOm5vdCg6ZGlzYWJsZWQpLCAuYnRuLWNvbmZpcm06aG92ZXIgeyBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5LWhvdmVyKTsgfQoKI2J0blJlcGVhdCwgLmJ0bi1jYW5jZWwgeyBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1pbnB1dCk7IGNvbG9yOiB2YXIoLS10ZXh0LW1haW4pOyBib3JkZXI6IDEuNXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7IH0KCmhyIHsgYm9yZGVyOiBub25lOyBib3JkZXItdG9wOiAxcHggZGFzaGVkIHZhcigtLWJvcmRlci1jb2xvcik7IG1hcmdpbjogMjBweCAwOyB9Ci5oaWRkZW4geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0KCiNjYXNoQm94IHsgbWFyZ2luLXRvcDogMTRweDsgYmFja2dyb3VuZDogdmFyKC0tYmctYm9keSk7IHBhZGRpbmc6IDE0cHg7IGJvcmRlci1yYWRpdXM6IDE0cHg7IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7IH0KI2Rlbm9taW5hdGlvbnMsIC5jb25maXJtLW1hdHJpeCB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDMsIDFmcik7IGdhcDogMTBweDsgfQouZGVub20tY2FyZCwgLmNvbmZpcm0tbWF0cml4LWNhcmQgeyBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1jYXJkKTsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgYm9yZGVyLXJhZGl1czogMTBweDsgcGFkZGluZzogMTBweCA1cHg7IHRleHQtYWxpZ246IGNlbnRlcjsgfQouZGVub20tbGFiZWwsIC5tYXRyaXgtbGFiZWwgeyBmb250LXdlaWdodDogNjAwOyBtYXJnaW4tYm90dG9tOiA1cHg7IGZvbnQtc2l6ZTogMTFweDsgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpOyB9Ci5kZW5vbS1jYXJkIGlucHV0IHsgaGVpZ2h0OiAzMnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbi10b3A6IDA7IGJvcmRlci1yYWRpdXM6IDZweDsgfQoKLnN5bmMtd3JhcHBlciB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjsgZ2FwOiAxMHB4OyBtYXJnaW4tdG9wOiAyMHB4OyBwYWRkaW5nLXRvcDogMTVweDsgYm9yZGVyLXRvcDogMXB4IGRhc2hlZCB2YXIoLS1ib3JkZXItY29sb3IpOyB9CiNidG5TeW5jQWxsIHsgYmFja2dyb3VuZDogdmFyKC0tc2Vjb25kYXJ5KTsgY29sb3I6IHdoaXRlOyBib3JkZXI6IG5vbmU7IGdhcDogNnB4OyB9CiNidG5WaWV3UXVldWUgeyBiYWNrZ3JvdW5kOiAjOTRhM2I4OyBjb2xvcjogd2hpdGU7IGJvcmRlcjogbm9uZTsgfQoKLm1vZGFsIHsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC43KTsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDRweCk7IHotaW5kZXg6IDEwMDA7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOyBwYWRkaW5nOiAxMHB4OyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9Ci5tb2RhbC1jb250ZW50IHsgYmFja2dyb3VuZDogdmFyKC0tYmctY2FyZCk7IGNvbG9yOiB2YXIoLS10ZXh0LW1haW4pOyB3aWR0aDogOTUlOyBtYXgtd2lkdGg6IDg1MHB4OyBtYXgtaGVpZ2h0OiA4NXZoOyBib3JkZXItcmFkaXVzOiAxNHB4OyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBvdmVyZmxvdzogaGlkZGVuOyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOyB9Ci5tb2RhbC1oZWFkZXIgeyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOyBwYWRkaW5nOiAxMHB4IDIwcHg7IH0KLmNsb3NlLW1vZGFsIHsgZm9udC1zaXplOiAyNHB4OyBjdXJzb3I6IHBvaW50ZXI7IGNvbG9yOiB2YXIoLS10ZXh0LWxhYmVsKTsgfQoKLmNvbmZpcm0taXRlbSB7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgcGFkZGluZzogOHB4IDA7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOyBmb250LXNpemU6IDEzcHg7IH0KLmNvbmZpcm0tbGFiZWwgeyBmb250LXdlaWdodDogNjAwOyBjb2xvcjogdmFyKC0tdGV4dC1sYWJlbCk7IH0KLmNvbmZpcm0tdmFsIHsgY29sb3I6IHZhcigtLXRleHQtbWFpbik7IHRleHQtYWxpZ246IHJpZ2h0OyBmb250LXdlaWdodDogNTAwOyB9Ci5jb25maXJtLXNlY3Rpb24tdGl0bGUgeyBmb250LXNpemU6IDEycHg7IGZvbnQtd2VpZ2h0OiA3MDA7IGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsgbWFyZ2luOiAxNXB4IDAgNXB4IDA7IHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1wcmltYXJ5KTsgd2lkdGg6IGZpdC1jb250ZW50OyBwYWRkaW5nLXJpZ2h0OiAxMHB4OyB9CgoudGFibGUtY29udGFpbmVyIHsgb3ZlcmZsb3cteDogYXV0bzsgZmxleC1ncm93OiAxOyBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1jYXJkKTsgfQp0YWJsZSB7IHdpZHRoOiAxMDAlOyBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyBmb250LXNpemU6IDEycHg7IG1pbi13aWR0aDogNzUwcHg7IHRhYmxlLWxheW91dDogZml4ZWQ7IH0KdGggeyBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1ib2R5KTsgY29sb3I6IHZhcigtLXRleHQtbGFiZWwpOyBmb250LXdlaWdodDogNjAwOyB0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDEwcHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOyB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyBmb250LXNpemU6IDEwcHg7IH0KdGQgeyBwYWRkaW5nOiAxMHB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsgdmVydGljYWwtYWxpZ246IG1pZGRsZTsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogdmFyKC0tdGV4dC1tYWluKTsgfQoKLmFjdGlvbi1idG4geyBib3JkZXI6IG5vbmU7IHdpZHRoOiAzNHB4OyBoZWlnaHQ6IDM0cHg7IGJvcmRlci1yYWRpdXM6IDEwcHg7IGN1cnNvcjogcG9pbnRlcjsgZGlzcGxheTogaW5saW5lLWZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBtYXJnaW46IDAgNHB4OyB9Ci5idG4tZGVsLW1pbmkgeyBiYWNrZ3JvdW5kOiAjZmVlMmUyOyBjb2xvcjogI2VmNDQ0NDsgfQouYnRuLWVkaXQtbWluaSB7IGJhY2tncm91bmQ6ICNlMGU3ZmY7IGNvbG9yOiAjNDMzOGNhOyB9CmJvZHkuZGFyayAuYnRuLWRlbC1taW5pIHsgYmFja2dyb3VuZDogIzQ1MGEwYTsgY29sb3I6ICNmODcxNzE7IH0KYm9keS5kYXJrIC5idG4tZWRpdC1taW5pIHsgYmFja2dyb3VuZDogIzFlMWI0YjsgY29sb3I6ICM4MThjZjg7IH0KCkBrZXlmcmFtZXMgYmxpbmsgeyA1MCUgeyBvcGFjaXR5OiAwLjU7IH0gfQouc2F2aW5nLXRleHQgeyBhbmltYXRpb246IGJsaW5rIDFzIGluZmluaXRlOyB9Cjwvc3R5bGU+CjwvaGVhZD4KCjxib2R5PgoKPGZvcm0gaWQ9ImZvcm0iIG5vdmFsaWRhdGU+CiAgPGRpdiBjbGFzcz0iaGVhZGVyLXJvdy10b3AiPgogICAgPGRpdiBpZD0ic3RhdHVzRG90IiB0aXRsZT0iTmV0d29yayBTdGF0dXMiPjwvZGl2PgogICAgPGgyPlNlbGYgVHJhbnNmZXI8L2gyPgogICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJ0aGVtZVRvZ2dsZSIgdGl0bGU9IlRvZ2dsZSBEYXJrIE1vZGUiPvCfjJk8L2J1dHRvbj4KICA8L2Rpdj4KCiAgPGRpdiBjbGFzcz0iYmF0Y2gtY29udHJvbCI+CiAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOiAxMnB4OyBmb250LXdlaWdodDogNjAwOyI+QmF0Y2ggTW9kZTwvc3Bhbj4KICAgIDxsYWJlbCBjbGFzcz0ic3dpdGNoIj4KICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0iYmF0Y2hUb2dnbGUiPgogICAgICA8c3BhbiBjbGFzcz0ic2xpZGVyIj48L3NwYW4+CiAgICA8L2xhYmVsPgogIDwvZGl2PgoKICA8bGFiZWw+RGF0ZTwvbGFiZWw+CiAgPGlucHV0IHR5cGU9ImRhdGUiIGlkPSJkYXRlIiByZXF1aXJlZD4KICA8ZGl2IGNsYXNzPSJlcnItbXNnIj5TZWxlY3QgYSBkYXRlPC9kaXY+CgogIDxsYWJlbD5OYXJyYXRpb248L2xhYmVsPgogIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibmFycmF0aW9uIiByZXF1aXJlZCBwbGFjZWhvbGRlcj0iV2hhdCBpcyB0aGlzIHRyYW5zZmVyIGZvcj8iPgogIDxkaXYgY2xhc3M9ImVyci1tc2ciPk5hcnJhdGlvbiBpcyByZXF1aXJlZDwvZGl2PgoKICA8aHI+CiAgPGgzPkZyb208L2gzPgogIDxsYWJlbD5UcmFuc2FjdGlvbiBUeXBlPC9sYWJlbD4KICA8c2VsZWN0IGlkPSJmcm9tVHlwZSIgcmVxdWlyZWQ+CiAgICA8b3B0aW9uIHZhbHVlPSIiPlNlbGVjdDwvb3B0aW9uPgogICAgPG9wdGlvbj5DYXNoPC9vcHRpb24+PG9wdGlvbj5VcGk8L29wdGlvbj48b3B0aW9uPkRlYml0PC9vcHRpb24+PG9wdGlvbj5OZXQ8L29wdGlvbj48b3B0aW9uPkNyZWRpdDwvb3B0aW9uPjxvcHRpb24+UmV3YXJkczwvb3B0aW9uPgogIDwvc2VsZWN0PgogIDxkaXYgY2xhc3M9ImVyci1tc2ciPlNlbGVjdCBzb3VyY2UgdHlwZTwvZGl2PgoKICA8ZGl2IGlkPSJmcm9tQWNjQmxvY2siIGNsYXNzPSJoaWRkZW4iPgogICAgPGxhYmVsPlNvdXJjZSBBY2NvdW50PC9sYWJlbD4KICAgIDxzZWxlY3QgaWQ9ImZyb21BY2NvdW50Ij48L3NlbGVjdD4KICAgIDxkaXYgY2xhc3M9ImVyci1tc2ciPlNlbGVjdCBhY2NvdW50PC9kaXY+CiAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImZyb21BY2NvdW50T3RoZXIiIGNsYXNzPSJoaWRkZW4iIHBsYWNlaG9sZGVyPSJFbnRlciBQbGF0Zm9ybSBOYW1lIiBzdHlsZT0ibWFyZ2luLXRvcDogOHB4OyI+CiAgICA8ZGl2IGNsYXNzPSJlcnItbXNnIj5QbGVhc2UgZW50ZXIgcGxhdGZvcm0gbmFtZTwvZGl2PgogIDwvZGl2PgoKICA8aHI+CiAgPGgzPlRvPC9oMz4KICA8bGFiZWw+VHJhbnNhY3Rpb24gVHlwZTwvbGFiZWw+CiAgPHNlbGVjdCBpZD0idG9UeXBlIiByZXF1aXJlZD4KICAgIDxvcHRpb24gdmFsdWU9IiI+U2VsZWN0PC9vcHRpb24+CiAgICA8b3B0aW9uPkNhc2g8L29wdGlvbj48b3B0aW9uPlVwaTwvb3B0aW9uPjxvcHRpb24+RGViaXQ8L29wdGlvbj48b3B0aW9uPk5ldDwvb3B0aW9uPjxvcHRpb24+Q3JlZGl0PC9vcHRpb24+PG9wdGlvbj5SZXdhcmRzPC9vcHRpb24+CiAgPC9zZWxlY3Q+CiAgPGRpdiBjbGFzcz0iZXJyLW1zZyI+U2VsZWN0IGRlc3RpbmF0aW9uIHR5cGU8L2Rpdj4KCiAgPGRpdiBpZD0idG9BY2NCbG9jayIgY2xhc3M9ImhpZGRlbiI+CiAgICA8bGFiZWw+RGVzdGluYXRpb24gQWNjb3VudDwvbGFiZWw+CiAgICA8c2VsZWN0IGlkPSJ0b0FjY291bnQiPjwvc2VsZWN0PgogICAgPGRpdiBjbGFzcz0iZXJyLW1zZyI+U2VsZWN0IGFjY291bnQ8L2Rpdj4KICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0idG9BY2NvdW50T3RoZXIiIGNsYXNzPSJoaWRkZW4iIHBsYWNlaG9sZGVyPSJFbnRlciBQbGF0Zm9ybSBOYW1lIiBzdHlsZT0ibWFyZ2luLXRvcDogOHB4OyI+CiAgICA8ZGl2IGNsYXNzPSJlcnItbXNnIj5QbGVhc2UgZW50ZXIgcGxhdGZvcm0gbmFtZTwvZGl2PgogIDwvZGl2PgoKICA8ZGl2IGlkPSJjYXNoQm94IiBjbGFzcz0iaGlkZGVuIj4KICAgIDxsYWJlbD5DYXNoIERlbm9taW5hdGlvbnM8L2xhYmVsPgogICAgPGRpdiBpZD0iZGVub21pbmF0aW9ucyI+PC9kaXY+CiAgPC9kaXY+CgogIDxsYWJlbD5Ub3RhbCBBbW91bnQ8L2xhYmVsPgogIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJhbW91bnQiIHN0ZXA9IjAuMDEiIHJlcXVpcmVkIHBsYWNlaG9sZGVyPSIwLjAwIj4KICA8ZGl2IGNsYXNzPSJlcnItbXNnIj5BbW91bnQgbXVzdCBiZSBncmVhdGVyIHRoYW4gMDwvZGl2PgoKICA8ZGl2IGNsYXNzPSJidG4tZ3JvdXAiPgogICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGlkPSJzdWJtaXRCdG4iPlN1Ym1pdCBUcmFuc2ZlcjwvYnV0dG9uPgogICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJidG5SZXBlYXQiPuKGuiBSZXBlYXQgTGFzdDwvYnV0dG9uPgogIDwvZGl2PgoKICA8ZGl2IGlkPSJmb290ZXJTeW5jIiBjbGFzcz0ic3luYy13cmFwcGVyIGhpZGRlbiI+CiAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgaWQ9ImJ0blN5bmNBbGwiPgogICAgICA8c3BhbiBpZD0ic3luY1RleHQiPuKYge+4jyBTeW5jIEFsbDwvc3Bhbj4KICAgICAgPHNtYWxsIGlkPSJzeW5jQ291bnQiPigwKTwvc21hbGw+CiAgICA8L2J1dHRvbj4KICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iYnRuVmlld1F1ZXVlIj7wn5OLIFZpZXcgUGVuZGluZzwvYnV0dG9uPgogIDwvZGl2Pgo8L2Zvcm0+Cgo8ZGl2IGlkPSJjb25maXJtTW9kYWwiIGNsYXNzPSJtb2RhbCBoaWRkZW4iPgogIDxkaXYgY2xhc3M9ImNvbmZpcm0tY2FyZCI+CiAgICA8aDIgc3R5bGU9Im1hcmdpbi1ib3R0b206IDIwcHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOyBwYWRkaW5nLWJvdHRvbTogMTBweDsgZm9udC1zaXplOiAxOHB4OyI+Q29uZmlybSBEZXRhaWxzPC9oMj4KICAgIDxkaXYgaWQ9ImNvbmZpcm1EZXRhaWxzIj48L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImJ0bi1ncm91cCI+CiAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iYnRuQ29uZmlybUZpbmFsIiBjbGFzcz0iYnRuLWNvbmZpcm0iPlByb2Nlc3M8L2J1dHRvbj4KICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJidG5Db25maXJtQ2FuY2VsIiBjbGFzcz0iYnRuLWNhbmNlbCI+RWRpdDwvYnV0dG9uPgogICAgPC9kaXY+CiAgPC9kaXY+CjwvZGl2PgoKPGRpdiBpZD0icXVldWVNb2RhbCIgY2xhc3M9Im1vZGFsIGhpZGRlbiI+CiAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICA8aDQ+UGVuZGluZyBTeW5jIFF1ZXVlPC9oND4KICAgICAgPHNwYW4gY2xhc3M9ImNsb3NlLW1vZGFsIj4mdGltZXM7PC9zcGFuPgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJ0YWJsZS1jb250YWluZXIiPgogICAgICA8dGFibGU+CiAgICAgICAgPHRoZWFkPgogICAgICAgICAgPHRyPgogICAgICAgICAgICA8dGggc3R5bGU9IndpZHRoOjkwcHgiPkRhdGU8L3RoPgogICAgICAgICAgICA8dGg+TmFycmF0aW9uPC90aD4KICAgICAgICAgICAgPHRoIHN0eWxlPSJ3aWR0aDoxMzBweCI+RnJvbTwvdGg+CiAgICAgICAgICAgIDx0aCBzdHlsZT0id2lkdGg6MTMwcHgiPlRvPC90aD4KICAgICAgICAgICAgPHRoIHN0eWxlPSJ3aWR0aDoxMTBweCI+QW1vdW50PC90aD4KICAgICAgICAgICAgPHRoIHN0eWxlPSJ3aWR0aDoxMDBweCI+QWN0aW9uPC90aD4KICAgICAgICAgIDwvdHI+CiAgICAgICAgPC90aGVhZD4KICAgICAgICA8dGJvZHkgaWQ9InF1ZXVlVGFibGVCb2R5Ij48L3Rib2R5PgogICAgICA8L3RhYmxlPgogICAgPC9kaXY+CiAgPC9kaXY+CjwvZGl2PgoKPHNjcmlwdD4KY29uc3QgU0NSSVBUX1VSTCA9ICJodHRwczovL3NjcmlwdC5nb29nbGUuY29tL21hY3Jvcy9zL0FLZnljYnhUdUo4M2JsMWFrZDNiUDFUdWp0LVF4bGRIRXdIdlFabVBZZWZBNUU2Q3NzaHhxY2Qzc3JkT0xPNm4tTFBaYkRLa29BL2V4ZWMiOwpsZXQgaXNTdWJtaXR0aW5nID0gZmFsc2U7CmxldCBjdXJyZW50UGF5bG9hZCA9IG51bGw7CmxldCBkYjsKCmNvbnN0IHNlbGZGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvcm0iKSwgZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkYXRlIiksIG5hcnJhdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuYXJyYXRpb24iKSwgZnJvbVR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZnJvbVR5cGUiKSwgZnJvbUFjY291bnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZnJvbUFjY291bnQiKSwgZnJvbUFjY291bnRPdGhlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmcm9tQWNjb3VudE90aGVyIiksIHRvVHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b1R5cGUiKSwgdG9BY2NvdW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvQWNjb3VudCIpLCB0b0FjY291bnRPdGhlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b0FjY291bnRPdGhlciIpLCBhbW91bnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYW1vdW50IiksIGNhc2hCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FzaEJveCIpLCBkZW5EaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGVub21pbmF0aW9ucyIpLCBzdWJtaXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3VibWl0QnRuIiksIGJhdGNoVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJhdGNoVG9nZ2xlIiksIGJ0blJlcGVhdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidG5SZXBlYXQiKTsKY29uc3Qgc3luY0NvdW50TGFiZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3luY0NvdW50IiksIGJ0blN5bmNBbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnRuU3luY0FsbCIpLCBmb290ZXJTeW5jID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvb3RlclN5bmMiKSwgYnRuVmlld1F1ZXVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ0blZpZXdRdWV1ZSIpLCBxdWV1ZU1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXVlTW9kYWwiKSwgcXVldWVUYWJsZUJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVldWVUYWJsZUJvZHkiKSwgY2xvc2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5jbG9zZS1tb2RhbCIpOwpjb25zdCB0aGVtZVRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0aGVtZVRvZ2dsZSIpLCBzdGF0dXNEb3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RhdHVzRG90Iik7CmNvbnN0IGNvbmZpcm1Nb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb25maXJtTW9kYWwiKSwgY29uZmlybURldGFpbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29uZmlybURldGFpbHMiKTsKCmNvbnN0IGJhbmtBY2NvdW50cz1bIkZJIiwiSERGQyBPbGQiLCJIREZDIE5ldyIsIklDSUNJIiwiSW5kdXNJbmQiLCJLb3RhayIsIlJCTCIsIlNCSSJdOwpjb25zdCBjcmVkaXRDYXJkcz1bIkF4aXMgRmxpcGthcnQiLCJBeGlzIE15Wm9uZSIsIkF4aXMgTmVvIiwiSERGQyBQaG9uZVBlIiwiSERGQyBUYXRhIE5ldSIsIkhERkMgTWlsbGVubmlhIiwiSFNCQyIsIklERkMgRmlyc3QgTWlsbGVuaWEiLCJJQ0lDSSBBbWF6b24iLCJJQ0lDSSBDb3JhbCIsIklDSUNJIEV4cHJlc3Npb25zIiwiSW5kdXNpbmQgUGxhdCBBdXJhIEVER0UiLCJJbmR1c2luZCBMZWdlbmQiLCJZZXMgRmluYm9vc3RlciIsIktvdGFrIExlYWd1ZSIsIktvdGFrIEltYWdlIiwiU0JJIEJQQ0wiLCJTdGFuZGFyZCBDaGFydGVyZWQiXTsKY29uc3QgcmV3YXJkUGxhdGZvcm1zPVsiQW1hem9uIiwgIkZsaXBrYXJ0IiwgIlN1cGVybW9uZXkiLCAiUGF5emFwcCIsICJNb2JpS3dpayIsICJUYXRhIE5ldSIsICJPdGhlcnMiXTsKY29uc3QgZGVub21zPVs1MDAsMjAwLDEwMCw1MCwyMCwxMCw1LDIsMV07CgovLyAtLS0gUGVyc2lzdGVudCBCYXRjaCBUb2dnbGUgLS0tCmJhdGNoVG9nZ2xlLm9uY2hhbmdlID0gKCkgPT4gewogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImJhdGNoTW9kZUFjdGl2ZSIsIGJhdGNoVG9nZ2xlLmNoZWNrZWQpOwp9OwppZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYmF0Y2hNb2RlQWN0aXZlIikgPT09ICJ0cnVlIikgewogICAgYmF0Y2hUb2dnbGUuY2hlY2tlZCA9IHRydWU7Cn0KCihmdW5jdGlvbiBpbml0REIoKXsKICBjb25zdCByZXEgPSBpbmRleGVkREIub3BlbigiU2VsZlRyYW5zZmVyREIiLCAxKTsKICByZXEub251cGdyYWRlbmVlZGVkID0gZSA9PiBlLnRhcmdldC5yZXN1bHQuY3JlYXRlT2JqZWN0U3RvcmUoInRyYW5zZmVyUXVldWUiLCB7IGtleVBhdGg6ICJpZCIsIGF1dG9JbmNyZW1lbnQ6IHRydWUgfSk7CiAgcmVxLm9uc3VjY2VzcyA9IGUgPT4geyAKICAgIGRiID0gZS50YXJnZXQucmVzdWx0OyAKICAgIHVwZGF0ZVBlbmRpbmdDb3VudCgpOyAKICAgIC8vIEFVVE8tU1lOQyBSRU1PVkVEIEZST00gSEVSRQogIH07Cn0pKCk7CgpmdW5jdGlvbiB1cGRhdGVTdGF0dXNEb3QoKSB7CiAgY29uc3QgaXNPbmxpbmUgPSBuYXZpZ2F0b3Iub25MaW5lOwogIHN0YXR1c0RvdC5jbGFzc05hbWUgPSBpc09ubGluZSA/ICdvbmxpbmUnIDogJ29mZmxpbmUnOwogIC8vIEFVVE8tU1lOQyBSRU1PVkVEIEZST00gSEVSRQp9CndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCB1cGRhdGVTdGF0dXNEb3QpOwp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIHVwZGF0ZVN0YXR1c0RvdCk7CnVwZGF0ZVN0YXR1c0RvdCgpOwoKYXN5bmMgZnVuY3Rpb24gdXBkYXRlUGVuZGluZ0NvdW50KCl7CiAgaWYoIWRiKSByZXR1cm47CiAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbigidHJhbnNmZXJRdWV1ZSIsICJyZWFkb25seSIpLm9iamVjdFN0b3JlKCJ0cmFuc2ZlclF1ZXVlIikuZ2V0QWxsKCk7CiAgdHgub25zdWNjZXNzID0gKCkgPT4gewogICAgY29uc3QgaXRlbXMgPSB0eC5yZXN1bHQ7CiAgICBmb290ZXJTeW5jLmNsYXNzTGlzdC50b2dnbGUoImhpZGRlbiIsICFpdGVtcy5sZW5ndGgpOwogICAgc3luY0NvdW50TGFiZWwudGV4dENvbnRlbnQgPSBgKCR7aXRlbXMubGVuZ3RofSlgOwogIH07Cn0KCnRoZW1lVG9nZ2xlLm9uY2xpY2sgPSAoKSA9PiB7CiAgY29uc3QgaXNEYXJrID0gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCJkYXJrIik7CiAgdGhlbWVUb2dnbGUudGV4dENvbnRlbnQgPSBpc0RhcmsgPyAi4piA77iPIiA6ICLwn4yZIjsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgic2VsZlRyYW5zZmVyVGhlbWUiLCBpc0RhcmsgPyAiZGFyayIgOiAibGlnaHQiKTsKfTsKaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oInNlbGZUcmFuc2ZlclRoZW1lIikgPT09ICJkYXJrIikgewogIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgiZGFyayIpOwogIHRoZW1lVG9nZ2xlLnRleHRDb250ZW50ID0gIuKYgO+4jyI7Cn0KCmRhdGUudmFsdWUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoIlQiKVswXTsKZGVub21zLmZvckVhY2goZD0+ewogIGRlbkRpdi5pbm5lckhUTUwrPWA8ZGl2IGNsYXNzPSJkZW5vbS1jYXJkIj48ZGl2IGNsYXNzPSJkZW5vbS1sYWJlbCI+4oK5JHtkfTwvZGl2PjxpbnB1dCB0eXBlPSJudW1iZXIiIGRhdGEtZD0iJHtkfSIgcGxhY2Vob2xkZXI9IjAiPjwvZGl2PmA7Cn0pOwoKZnVuY3Rpb24gYnVpbGRBY2NvdW50cyh0eXBlLCBzZWxlY3QsIGJsb2NrLCBvdGhlcklucHV0KXsKICBzZWxlY3QuaW5uZXJIVE1MID0gIjxvcHRpb24gdmFsdWU9Jyc+U2VsZWN0IEFjY291bnQ8L29wdGlvbj4iOwogIGNvbnN0IGlzQ2FzaCA9IHR5cGUgPT09ICJDYXNoIiB8fCAhdHlwZTsKICBibG9jay5jbGFzc0xpc3QudG9nZ2xlKCJoaWRkZW4iLCBpc0Nhc2gpOwogIHNlbGVjdC5yZXF1aXJlZCA9ICFpc0Nhc2g7CiAgb3RoZXJJbnB1dC5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKTsKICBvdGhlcklucHV0LnJlcXVpcmVkID0gZmFsc2U7CgogIGlmKCFpc0Nhc2gpIHsKICAgIGxldCBsaXN0ID0gKHR5cGUgPT09ICJDcmVkaXQiKSA/IGNyZWRpdENhcmRzIDogKHR5cGUgPT09ICJSZXdhcmRzIiA/IHJld2FyZFBsYXRmb3JtcyA6IGJhbmtBY2NvdW50cyk7CiAgICBsaXN0LmZvckVhY2godiA9PiBzZWxlY3QuYWRkKG5ldyBPcHRpb24odiwgdikpKTsKICAgIHNlbGVjdC5hZGQobmV3IE9wdGlvbigiT3RoZXJzIiwgIk90aGVycyIpKTsKICB9Cn0KCmZ1bmN0aW9uIGNhbGNDYXNoKCl7CiAgbGV0IHRvdGFsID0gMDsKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJbZGF0YS1kXSIpLmZvckVhY2goaSA9PiB0b3RhbCArPSBOdW1iZXIoaS5kYXRhc2V0LmQpICogTnVtYmVyKGkudmFsdWUgfHwgMCkpOwogIGlmKGZyb21UeXBlLnZhbHVlID09PSAiQ2FzaCIgfHwgdG9UeXBlLnZhbHVlID09PSAiQ2FzaCIpIGFtb3VudC52YWx1ZSA9IHRvdGFsOwp9Cgpmcm9tVHlwZS5vbmNoYW5nZSA9ICgpID0+IHsgYnVpbGRBY2NvdW50cyhmcm9tVHlwZS52YWx1ZSwgZnJvbUFjY291bnQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmcm9tQWNjQmxvY2siKSwgZnJvbUFjY291bnRPdGhlcik7IGNhc2hCb3guY2xhc3NMaXN0LnRvZ2dsZSgiaGlkZGVuIiwgZnJvbVR5cGUudmFsdWUhPT0iQ2FzaCIgJiYgdG9UeXBlLnZhbHVlIT09IkNhc2giKTsgYW1vdW50LnJlYWRPbmx5ID0gKGZyb21UeXBlLnZhbHVlPT09IkNhc2gifHx0b1R5cGUudmFsdWU9PT0iQ2FzaCIpOyB9Owp0b1R5cGUub25jaGFuZ2UgPSAoKSA9PiB7IGJ1aWxkQWNjb3VudHModG9UeXBlLnZhbHVlLCB0b0FjY291bnQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b0FjY0Jsb2NrIiksIHRvQWNjb3VudE90aGVyKTsgY2FzaEJveC5jbGFzc0xpc3QudG9nZ2xlKCJoaWRkZW4iLCBmcm9tVHlwZS52YWx1ZSE9PSJDYXNoIiAmJiB0b1R5cGUudmFsdWUhPT0iQ2FzaCIpOyBhbW91bnQucmVhZE9ubHkgPSAoZnJvbVR5cGUudmFsdWU9PT0iQ2FzaCJ8fHRvVHlwZS52YWx1ZT09PSJDYXNoIik7IH07Cgpmcm9tQWNjb3VudC5vbmNoYW5nZSA9ICgpID0+IHsgY29uc3QgaXNPdGhlciA9IGZyb21BY2NvdW50LnZhbHVlID09PSAiT3RoZXJzIjsgZnJvbUFjY291bnRPdGhlci5jbGFzc0xpc3QudG9nZ2xlKCJoaWRkZW4iLCAhaXNPdGhlcik7IGZyb21BY2NvdW50T3RoZXIucmVxdWlyZWQgPSBpc090aGVyOyB9Owp0b0FjY291bnQub25jaGFuZ2UgPSAoKSA9PiB7IGNvbnN0IGlzT3RoZXIgPSB0b0FjY291bnQudmFsdWUgPT09ICJPdGhlcnMiOyB0b0FjY291bnRPdGhlci5jbGFzc0xpc3QudG9nZ2xlKCJoaWRkZW4iLCAhaXNPdGhlcik7IHRvQWNjb3VudE90aGVyLnJlcXVpcmVkID0gaXNPdGhlcjsgfTsKCmRlbkRpdi5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIsIGNhbGNDYXNoKTsKCnNlbGZGb3JtLm9uc3VibWl0ID0gYXN5bmMgZSA9PiB7CiAgZS5wcmV2ZW50RGVmYXVsdCgpOwogIHNlbGZGb3JtLmNsYXNzTGlzdC5hZGQoIndhcy12YWxpZGF0ZWQiKTsKICBjb25zdCB2YWwgPSBwYXJzZUZsb2F0KGFtb3VudC52YWx1ZSk7CiAgY29uc3QgaXNBbXRWYWxpZCA9ICFpc05hTih2YWwpICYmIHZhbCA+IDA7CiAgYW1vdW50LmNsYXNzTGlzdC50b2dnbGUoIm1hbnVhbC1pbnZhbGlkIiwgIWlzQW10VmFsaWQpOwoKICBpZighc2VsZkZvcm0uY2hlY2tWYWxpZGl0eSgpIHx8ICFpc0FtdFZhbGlkKSByZXR1cm47CiAgCiAgY29uc3QgZkFjYyA9IGZyb21UeXBlLnZhbHVlID09PSAiQ2FzaCIgPyAiQ2FzaCIgOiAoZnJvbUFjY291bnQudmFsdWUgPT09ICJPdGhlcnMiID8gZnJvbUFjY291bnRPdGhlci52YWx1ZSA6IGZyb21BY2NvdW50LnZhbHVlKTsKICBjb25zdCB0QWNjID0gdG9UeXBlLnZhbHVlID09PSAiQ2FzaCIgPyAiQ2FzaCIgOiAodG9BY2NvdW50LnZhbHVlID09PSAiT3RoZXJzIiA/IHRvQWNjb3VudE90aGVyLnZhbHVlIDogdG9BY2NvdW50LnZhbHVlKTsKCiAgY3VycmVudFBheWxvYWQgPSB7CiAgICBkYXRlOiBkYXRlLnZhbHVlLCBuYXJyYXRpb246IG5hcnJhdGlvbi52YWx1ZSwKICAgIGZyb21UeXBlOiBmcm9tVHlwZS52YWx1ZSwgZnJvbUFjY291bnQ6IGZBY2MsCiAgICB0b1R5cGU6IHRvVHlwZS52YWx1ZSwgdG9BY2NvdW50OiB0QWNjLAogICAgYW1vdW50OiB2YWwsCiAgICBkZW5vbXM6IHt9CiAgfTsKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJbZGF0YS1kXSIpLmZvckVhY2goaSA9PiBjdXJyZW50UGF5bG9hZC5kZW5vbXNbImQiICsgaS5kYXRhc2V0LmRdID0gaS52YWx1ZSB8fCAwKTsKCiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImxhc3RUcmFuc2ZlciIsIEpTT04uc3RyaW5naWZ5KGN1cnJlbnRQYXlsb2FkKSk7CgogIGlmICghbmF2aWdhdG9yLm9uTGluZSB8fCBiYXRjaFRvZ2dsZS5jaGVja2VkKSB7CiAgICBzYXZlVG9EQigpOwogICAgYWxlcnQoYmF0Y2hUb2dnbGUuY2hlY2tlZCA/ICJCYXRjaCBNb2RlOiBTYXZlZCB0byBxdWV1ZS4iIDogIk9mZmxpbmU6IFNhdmVkIHRvIHF1ZXVlLiIpOyAKICAgIHJldHVybjsKICB9CgogIGxldCBkZXRhaWxzSHRtbCA9IGAKICAgIDxkaXYgY2xhc3M9ImNvbmZpcm0taXRlbSI+PHNwYW4gY2xhc3M9ImNvbmZpcm0tbGFiZWwiPkRhdGU8L3NwYW4+PHNwYW4gY2xhc3M9ImNvbmZpcm0tdmFsIj4ke2N1cnJlbnRQYXlsb2FkLmRhdGV9PC9zcGFuPjwvZGl2PgogICAgPGRpdiBjbGFzcz0iY29uZmlybS1pdGVtIj48c3BhbiBjbGFzcz0iY29uZmlybS1sYWJlbCI+TmFycmF0aW9uPC9zcGFuPjxzcGFuIGNsYXNzPSJjb25maXJtLXZhbCI+JHtjdXJyZW50UGF5bG9hZC5uYXJyYXRpb259PC9zcGFuPjwvZGl2PgogICAgPGRpdiBjbGFzcz0iY29uZmlybS1pdGVtIj48c3BhbiBjbGFzcz0iY29uZmlybS1sYWJlbCI+RnJvbTwvc3Bhbj48c3BhbiBjbGFzcz0iY29uZmlybS12YWwiPiR7Y3VycmVudFBheWxvYWQuZnJvbVR5cGV9ICgke2N1cnJlbnRQYXlsb2FkLmZyb21BY2NvdW50fSk8L3NwYW4+PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJjb25maXJtLWl0ZW0iPjxzcGFuIGNsYXNzPSJjb25maXJtLWxhYmVsIj5Ubzwvc3Bhbj48c3BhbiBjbGFzcz0iY29uZmlybS12YWwiPiR7Y3VycmVudFBheWxvYWQudG9UeXBlfSAoJHtjdXJyZW50UGF5bG9hZC50b0FjY291bnR9KTwvc3Bhbj48L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImNvbmZpcm0taXRlbSIgc3R5bGU9ImJvcmRlcjpub25lIj48c3BhbiBjbGFzcz0iY29uZmlybS1sYWJlbCIgc3R5bGU9ImNvbG9yOnZhcigtLXByaW1hcnkpIj5Ub3RhbCBBbW91bnQ8L3NwYW4+PHNwYW4gY2xhc3M9ImNvbmZpcm0tdmFsIiBzdHlsZT0iY29sb3I6dmFyKC0tcHJpbWFyeSk7IGZvbnQtd2VpZ2h0OmJvbGQiPuKCuSR7Y3VycmVudFBheWxvYWQuYW1vdW50LnRvRml4ZWQoMil9PC9zcGFuPjwvZGl2PgogIGA7CgogIGlmIChmcm9tVHlwZS52YWx1ZSA9PT0gIkNhc2giIHx8IHRvVHlwZS52YWx1ZSA9PT0gIkNhc2giKSB7CiAgICBkZXRhaWxzSHRtbCArPSBgPGRpdiBjbGFzcz0iY29uZmlybS1zZWN0aW9uLXRpdGxlIj5DYXNoIE1hdHJpeDwvZGl2PjxkaXYgY2xhc3M9ImNvbmZpcm0tbWF0cml4Ij5gOwogICAgZGVub21zLmZvckVhY2goZCA9PiB7CiAgICAgIGRldGFpbHNIdG1sICs9IGA8ZGl2IGNsYXNzPSJjb25maXJtLW1hdHJpeC1jYXJkIj48ZGl2IGNsYXNzPSJtYXRyaXgtbGFiZWwiPuKCuSR7ZH08L2Rpdj48ZGl2IHN0eWxlPSJmb250LXdlaWdodDo3MDA7IGZvbnQtc2l6ZToxMnB4OyI+JHtjdXJyZW50UGF5bG9hZC5kZW5vbXNbImQiK2RdfTwvZGl2PjwvZGl2PmA7CiAgICB9KTsKICAgIGRldGFpbHNIdG1sICs9IGA8L2Rpdj5gOwogIH0KICBjb25maXJtRGV0YWlscy5pbm5lckhUTUwgPSBkZXRhaWxzSHRtbDsKICBjb25maXJtTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgiaGlkZGVuIik7Cn07Cgphc3luYyBmdW5jdGlvbiBleGVjdXRlU3VibWl0KCkgewogIGlmKCFjdXJyZW50UGF5bG9hZCB8fCBpc1N1Ym1pdHRpbmcpIHJldHVybjsgLy8gUHJldmVudCBkb3VibGUgdHJpZ2dlcgogIAogIGNvbmZpcm1Nb2RhbC5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKTsKICBpc1N1Ym1pdHRpbmcgPSB0cnVlOwogIAogIC8vIERpc2FibGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyBsb2FkaW5nIHN0YXRlCiAgc3VibWl0QnRuLmRpc2FibGVkID0gdHJ1ZTsKICBzdWJtaXRCdG4udGV4dENvbnRlbnQgPSAiUHJvY2Vzc2luZy4uLiBQbGVhc2Ugd2FpdCI7CiAgc3VibWl0QnRuLnN0eWxlLm9wYWNpdHkgPSAiMC43IjsKICBzdWJtaXRCdG4uc3R5bGUuY3Vyc29yID0gIm5vdC1hbGxvd2VkIjsKCiAgdHJ5IHsKICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goU0NSSVBUX1VSTCwgeyAKICAgICAgbWV0aG9kOiAiUE9TVCIsIAogICAgICBtb2RlOiAibm8tY29ycyIsIAogICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjdXJyZW50UGF5bG9hZCkgCiAgICB9KTsKICAgIAogICAgYWxlcnQoIlRyYW5zZmVyIFNhdmVkIFN1Y2Nlc3NmdWxseSEiKTsKICAgIHJlc2V0Rm9ybSgpOwogIH0gY2F0Y2ggKGVycikgewogICAgc2F2ZVRvREIoKTsgCiAgICBhbGVydCgiTmV0d29yayBpc3N1ZS4gU2F2ZWQgdG8gbG9jYWwgcXVldWUgZm9yIGxhdGVyIHN5bmMuIik7IAogIH0gZmluYWxseSB7CiAgICBpc1N1Ym1pdHRpbmcgPSBmYWxzZTsKICAgIC8vIFJlLWVuYWJsZSB0aGUgYnV0dG9uCiAgICBzdWJtaXRCdG4uZGlzYWJsZWQgPSBmYWxzZTsKICAgIHN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9ICJTdWJtaXQgVHJhbnNmZXIiOwogICAgc3VibWl0QnRuLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICBzdWJtaXRCdG4uc3R5bGUuY3Vyc29yID0gInBvaW50ZXIiOwogICAgdXBkYXRlUGVuZGluZ0NvdW50KCk7CiAgfQp9CmZ1bmN0aW9uIHNhdmVUb0RCKCkgewogICAgaWYoIWRiKSByZXR1cm47CiAgICBkYi50cmFuc2FjdGlvbigidHJhbnNmZXJRdWV1ZSIsICJyZWFkd3JpdGUiKS5vYmplY3RTdG9yZSgidHJhbnNmZXJRdWV1ZSIpLmFkZChjdXJyZW50UGF5bG9hZCk7CiAgICByZXNldEZvcm0oKTsgdXBkYXRlUGVuZGluZ0NvdW50KCk7Cn0KCmJ0blJlcGVhdC5vbmNsaWNrID0gKCkgPT4gewogICAgY29uc3QgbGFzdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImxhc3RUcmFuc2ZlciIpKTsKICAgIGlmKCFsYXN0KSByZXR1cm4gYWxlcnQoIk5vIHJlY2VudCB0cmFuc2Zlci4iKTsKICAgIGxvYWRUb0Zvcm0obGFzdCk7Cn07CgpmdW5jdGlvbiBsb2FkVG9Gb3JtKGl0ZW0pewogICAgZGF0ZS52YWx1ZSA9IGl0ZW0uZGF0ZTsgbmFycmF0aW9uLnZhbHVlID0gaXRlbS5uYXJyYXRpb247CiAgICBmcm9tVHlwZS52YWx1ZSA9IGl0ZW0uZnJvbVR5cGU7IGZyb21UeXBlLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnKSk7CiAgICBpZihpdGVtLmZyb21UeXBlICE9PSAiQ2FzaCIpewogICAgICAgIGlmKGJhbmtBY2NvdW50cy5jb25jYXQoY3JlZGl0Q2FyZHMsIHJld2FyZFBsYXRmb3JtcykuaW5jbHVkZXMoaXRlbS5mcm9tQWNjb3VudCkpIGZyb21BY2NvdW50LnZhbHVlID0gaXRlbS5mcm9tQWNjb3VudDsKICAgICAgICBlbHNlIHsgZnJvbUFjY291bnQudmFsdWUgPSAiT3RoZXJzIjsgZnJvbUFjY291bnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScpKTsgZnJvbUFjY291bnRPdGhlci52YWx1ZSA9IGl0ZW0uZnJvbUFjY291bnQ7IH0KICAgIH0KICAgIHRvVHlwZS52YWx1ZSA9IGl0ZW0udG9UeXBlOyB0b1R5cGUuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScpKTsKICAgIGlmKGl0ZW0udG9UeXBlICE9PSAiQ2FzaCIpewogICAgICAgIGlmKGJhbmtBY2NvdW50cy5jb25jYXQoY3JlZGl0Q2FyZHMsIHJld2FyZFBsYXRmb3JtcykuaW5jbHVkZXMoaXRlbS50b0FjY291bnQpKSB0b0FjY291bnQudmFsdWUgPSBpdGVtLnRvQWNjb3VudDsKICAgICAgICBlbHNlIHsgdG9BY2NvdW50LnZhbHVlID0gIk90aGVycyI7IHRvQWNjb3VudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJykpOyB0b0FjY291bnRPdGhlci52YWx1ZSA9IGl0ZW0udG9BY2NvdW50OyB9CiAgICB9CiAgICBpZihpdGVtLmZyb21UeXBlID09PSAiQ2FzaCIgfHwgaXRlbS50b1R5cGUgPT09ICJDYXNoIil7CiAgICAgICAgZGVub21zLmZvckVhY2goZCA9PiB7IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWQ9IiR7ZH0iXWApLnZhbHVlID0gaXRlbS5kZW5vbXNbImQiK2RdIHx8IDA7IH0pOwogICAgICAgIGNhbGNDYXNoKCk7CiAgICB9IGVsc2UgYW1vdW50LnZhbHVlID0gaXRlbS5hbW91bnQ7Cn0KCmZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHsKICBjb25zdCBiU3RhdGUgPSBiYXRjaFRvZ2dsZS5jaGVja2VkOyAvLyBQUkVTRVJWRSBTVEFURQogIHNlbGZGb3JtLnJlc2V0KCk7IHNlbGZGb3JtLmNsYXNzTGlzdC5yZW1vdmUoIndhcy12YWxpZGF0ZWQiKTsgYW1vdW50LmNsYXNzTGlzdC5yZW1vdmUoIm1hbnVhbC1pbnZhbGlkIik7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZyb21BY2NCbG9jayIpLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpOyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9BY2NCbG9jayIpLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpOwogIGZyb21BY2NvdW50T3RoZXIuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIik7IHRvQWNjb3VudE90aGVyLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpOwogIGNhc2hCb3guY2xhc3NMaXN0LmFkZCgiaGlkZGVuIik7IGRhdGUudmFsdWUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoIlQiKVswXTsKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJbZGF0YS1kXSIpLmZvckVhY2goaSA9PiBpLnZhbHVlID0gMCk7CiAgYmF0Y2hUb2dnbGUuY2hlY2tlZCA9IGJTdGF0ZTsKfQoKZnVuY3Rpb24gcmVuZGVyUXVldWVUYWJsZSgpIHsKICBpZighZGIpIHJldHVybjsKICBxdWV1ZVRhYmxlQm9keS5pbm5lckhUTUwgPSAiIjsKICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKCJ0cmFuc2ZlclF1ZXVlIiwgInJlYWRvbmx5Iikub2JqZWN0U3RvcmUoInRyYW5zZmVyUXVldWUiKS5nZXRBbGwoKTsKICB0eC5vbnN1Y2Nlc3MgPSAoZSkgPT4gewogICAgY29uc3QgaXRlbXMgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICBpZighaXRlbXMubGVuZ3RoKSBxdWV1ZVRhYmxlQm9keS5pbm5lckhUTUwgPSAiPHRyPjx0ZCBjb2xzcGFuPSc2Jz5RdWV1ZSBpcyBlbXB0eTwvdGQ+PC90cj4iOwogICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpOwogICAgICB0ci5pbm5lckhUTUwgPSBgCiAgICAgICAgPHRkPiR7aXRlbS5kYXRlfTwvdGQ+PHRkPiR7aXRlbS5uYXJyYXRpb259PC90ZD4KICAgICAgICA8dGQ+JHtpdGVtLmZyb21UeXBlfTxicj48c21hbGw+KCR7aXRlbS5mcm9tQWNjb3VudH0pPC9zbWFsbD48L3RkPgogICAgICAgIDx0ZD4ke2l0ZW0udG9UeXBlfTxicj48c21hbGw+KCR7aXRlbS50b0FjY291bnR9KTwvc21hbGw+PC90ZD4KICAgICAgICA8dGQgc3R5bGU9ImZvbnQtd2VpZ2h0OjcwMCI+4oK5JHtpdGVtLmFtb3VudC50b0ZpeGVkKDIpfTwvdGQ+CiAgICAgICAgPHRkPgogICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYWN0aW9uLWJ0biBidG4tZWRpdC1taW5pIiBvbmNsaWNrPSJlZGl0SXRlbSgke2l0ZW0uaWR9KSI+4pyP77iPPC9idXR0b24+CiAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJhY3Rpb24tYnRuIGJ0bi1kZWwtbWluaSIgb25jbGljaz0iZGVsZXRlSXRlbSgke2l0ZW0uaWR9KSI+8J+Xke+4jzwvYnV0dG9uPgogICAgICAgIDwvdGQ+YDsKICAgICAgcXVldWVUYWJsZUJvZHkuYXBwZW5kQ2hpbGQodHIpOwogICAgfSk7CiAgfTsKfQoKd2luZG93LmRlbGV0ZUl0ZW0gPSBpZCA9PiB7CiAgaWYoY29uZmlybSgiRGVsZXRlPyIpKSBkYi50cmFuc2FjdGlvbigidHJhbnNmZXJRdWV1ZSIsInJlYWR3cml0ZSIpLm9iamVjdFN0b3JlKCJ0cmFuc2ZlclF1ZXVlIikuZGVsZXRlKGlkKS5vbnN1Y2Nlc3MgPSAoKSA9PiB7IHJlbmRlclF1ZXVlVGFibGUoKTsgdXBkYXRlUGVuZGluZ0NvdW50KCk7IH07Cn07Cgp3aW5kb3cuZWRpdEl0ZW0gPSBpZCA9PiB7CiAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKCJ0cmFuc2ZlclF1ZXVlIiwgInJlYWRvbmx5Iikub2JqZWN0U3RvcmUoInRyYW5zZmVyUXVldWUiKS5nZXQoaWQpOwogICAgdHgub25zdWNjZXNzID0gKCkgPT4gewogICAgICAgIGxvYWRUb0Zvcm0odHgucmVzdWx0KTsKICAgICAgICBkYi50cmFuc2FjdGlvbigidHJhbnNmZXJRdWV1ZSIsICJyZWFkd3JpdGUiKS5vYmplY3RTdG9yZSgidHJhbnNmZXJRdWV1ZSIpLmRlbGV0ZShpZCkub25zdWNjZXNzID0gKCkgPT4geyBxdWV1ZU1vZGFsLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpOyB1cGRhdGVQZW5kaW5nQ291bnQoKTsgfTsKICAgIH07Cn07Cgphc3luYyBmdW5jdGlvbiBtYW51YWxTeW5jKCkgewogIGlmICghbmF2aWdhdG9yLm9uTGluZSkgcmV0dXJuIGFsZXJ0KCJJbnRlcm5ldCByZXF1aXJlZCB0byBzeW5jLiIpOwogIGlmICghY29uZmlybSgiU3RhcnQgc3luY2luZyBhbGwgcGVuZGluZyBpdGVtcz8iKSkgcmV0dXJuOwoKICBjb25zdCBzeW5jQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ0blN5bmNBbGwiKTsKICBjb25zdCBzeW5jVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzeW5jVGV4dCIpOwogIAogIC8vIERpc2FibGUgYnV0dG9uCiAgc3luY0J0bi5kaXNhYmxlZCA9IHRydWU7CiAgc3luY0J0bi5zdHlsZS5vcGFjaXR5ID0gIjAuNyI7CgogIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oInRyYW5zZmVyUXVldWUiLCAicmVhZG9ubHkiKTsKICBjb25zdCBzdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCJ0cmFuc2ZlclF1ZXVlIik7CiAgY29uc3QgaXRlbXMgPSBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4geyBzdG9yZS5nZXRBbGwoKS5vbnN1Y2Nlc3MgPSBlID0+IHJlcyhlLnRhcmdldC5yZXN1bHQpOyB9KTsKCiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykgewogICAgc3luY1RleHQuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPSJzYXZpbmctdGV4dCI+U3luY2luZyAke2krMX0vJHtpdGVtcy5sZW5ndGh9PC9zcGFuPmA7CiAgICB0cnkgewogICAgICBhd2FpdCBmZXRjaChTQ1JJUFRfVVJMLCB7IG1ldGhvZDogIlBPU1QiLCBtb2RlOiAibm8tY29ycyIsIGJvZHk6IEpTT04uc3RyaW5naWZ5KGl0ZW1zW2ldKSB9KTsKICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHsKICAgICAgICBkYi50cmFuc2FjdGlvbigidHJhbnNmZXJRdWV1ZSIsICJyZWFkd3JpdGUiKS5vYmplY3RTdG9yZSgidHJhbnNmZXJRdWV1ZSIpLmRlbGV0ZShpdGVtc1tpXS5pZCkub25zdWNjZXNzID0gcmVzOwogICAgICB9KTsKICAgICAgdXBkYXRlUGVuZGluZ0NvdW50KCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGFsZXJ0KCJTeW5jIGludGVycnVwdGVkIGR1ZSB0byBuZXR3b3JrIGVycm9yLiIpOwogICAgICBicmVhazsKICAgIH0KICB9CiAgCiAgc3luY1RleHQudGV4dENvbnRlbnQgPSAi4piB77iPIFN5bmMgQWxsIjsKICBzeW5jQnRuLmRpc2FibGVkID0gZmFsc2U7CiAgc3luY0J0bi5zdHlsZS5vcGFjaXR5ID0gIjEiOwp9Cgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnRuQ29uZmlybUZpbmFsIikub25jbGljayA9IGV4ZWN1dGVTdWJtaXQ7CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidG5Db25maXJtQ2FuY2VsIikub25jbGljayA9ICgpID0+IGNvbmZpcm1Nb2RhbC5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKTsKYnRuVmlld1F1ZXVlLm9uY2xpY2sgPSAoKSA9PiB7IHJlbmRlclF1ZXVlVGFibGUoKTsgcXVldWVNb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCJoaWRkZW4iKTsgfTsKYnRuU3luY0FsbC5vbmNsaWNrID0gbWFudWFsU3luYzsKY2xvc2VNb2RhbC5vbmNsaWNrID0gKCkgPT4gcXVldWVNb2RhbC5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKTsKCi8vIEFVVE8gU1lOQyBDT01QTEVURUxZIERJU0FCTEVELiBPTkxZIE1BTlVBTCBTWU5DIFZJQSBCVVRUT04gQUxMT1dFRC4KPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo="
    };

    window.onload = () => {
      Object.keys(codes).forEach(id => {
        if(codes[id] !== "" && codes[id].length > 50) {
          const doc = document.getElementById(id).contentWindow.document;
          doc.open();
          // Decodes the string back into HTML and writes it to the iframe
          doc.write(decodeURIComponent(escape(window.atob(codes[id]))));
          doc.close();
        }
      });
    };
  </script>
</body>
</html>
